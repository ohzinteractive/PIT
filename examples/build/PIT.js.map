{"version":3,"file":"PIT.js","sources":["../../src/utilities/MathUtilities.js","../../src/utilities/OS.js","../../src/MouseInputModule.js","../../src/TouchInputModule.js","../../src/InputController.js"],"sourcesContent":["export default class MathUtilities\n{\n  static clamp(value, min, max)\n  {\n    return Math.max(min, Math.min(max, value));\n  }\n\n  static is_int(n)\n  {\n    return Number(n) === n && n % 1 === 0;\n  }\n}\n","export class OS\n{\n  constructor()\n  {\n    this.operating_systems = {\n      ANDROID: 'android',\n      IOS: 'ios',\n      LINUX: 'linux',\n      MAC: 'mac',\n      WINDOWS: 'windows'\n    };\n  }\n\n  get_os()\n  {\n    let userAgent = window.navigator.userAgent;\n    let platform = window.navigator.platform;\n    let macosPlatforms = ['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'];\n    let windowsPlatforms = ['Win32', 'Win64', 'Windows', 'WinCE'];\n    let iosPlatforms = ['iPhone', 'iPad', 'iPod'];\n    let os = null;\n\n    if (macosPlatforms.indexOf(platform) !== -1)\n    {\n      os = this.operating_systems.MAC;\n    }\n    else if (iosPlatforms.indexOf(platform) !== -1)\n    {\n      os = this.operating_systems.IOS;\n    }\n    else if (windowsPlatforms.indexOf(platform) !== -1)\n    {\n      os = this.operating_systems.WINDOWS;\n    }\n    else if (/Android/.test(userAgent))\n    {\n      os = this.operating_systems.ANDROID;\n    }\n    else if (!os && /Linux/.test(platform))\n    {\n      os = this.operating_systems.LINUX;\n    }\n\n    return os;\n  }\n\n  get is_android()\n  {\n    return this.get_os() === this.operating_systems.ANDROID;\n  }\n\n  get is_ios()\n  {\n    return navigator.userAgent.match(/(iPhone|iPod|iPad)/);\n  }\n\n  get is_ipad()\n  {\n    return navigator.userAgent.match(/(iPad)/);\n  }\n\n  get is_mobile()\n  {\n    return !!(navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/));\n  }\n\n  get is_linux()\n  {\n    return this.get_os() === this.operating_systems.LINUX;\n  }\n\n  get is_mac()\n  {\n    return this.get_os() === this.operating_systems.MAC;\n  }\n\n  get is_windows()\n  {\n    return this.get_os() === this.operating_systems.WINDOWS;\n  }\n}\n\nexport default new OS();\n","import MathUtilities from './utilities/MathUtilities';\nimport OS from './utilities/OS';\nexport default class MouseInputModule\n{\n  constructor()\n  {\n    this.left_mouse_button_pressed  = false;\n    this.left_mouse_button_down     = false;\n    this.left_mouse_button_released = false;\n\n    this.right_mouse_button_pressed  = false;\n    this.right_mouse_button_down     = false;\n    this.right_mouse_button_released = false;\n\n    this.middle_mouse_button_pressed  = false;\n    this.middle_mouse_button_down     = false;\n    this.middle_mouse_button_released = false;\n\n    this.pointer_pos = { x: 0, y: 0 };\n    this.previous_pointer_pos = { x: 0, y: 0 };\n\n    this.scroll_delta = 0;\n  }\n\n  get pointer_count()\n  {\n    if (this.left_mouse_button_down  ||\n       this.right_mouse_button_down ||\n       this.middle_mouse_button_down)\n    {\n      return 1;\n    }\n    else\n    {\n      return 0;\n    }\n  }\n\n  pointer_down(event)\n  {\n    this.pointer_pos.x = event.clientX;\n    this.pointer_pos.y = event.clientY;\n\n    this.previous_pointer_pos.x = event.clientX;\n    this.previous_pointer_pos.y = event.clientY;\n\n    switch (event.button)\n    {\n    case 0:\n      this.left_mouse_button_pressed = true;\n      this.left_mouse_button_down    = true;\n      break;\n    case 1:\n      this.middle_mouse_button_pressed = true;\n      this.middle_mouse_button_down    = true;\n      break;\n    case 2:\n      this.right_mouse_button_pressed = true;\n      this.right_mouse_button_down    = true;\n      break;\n    }\n  }\n\n  pointer_up(event)\n  {\n    switch (event.button)\n    {\n    case 0:\n      this.left_mouse_button_released = true;\n      this.left_mouse_button_down     = false;\n      break;\n    case 1:\n      this.middle_mouse_button_released = true;\n      this.middle_mouse_button_down     = false;\n      break;\n    case 2:\n      this.right_mouse_button_released = true;\n      this.right_mouse_button_down     = false;\n      break;\n    }\n  }\n\n  pointer_move(event)\n  {\n    this.pointer_pos.x = event.clientX;\n    this.pointer_pos.y = event.clientY;\n  }\n\n  pointer_cancel(event)\n  {\n    this.pointer_out(event);\n  }\n\n  pointer_out(event)\n  {\n    if (this.left_mouse_button_down)\n    {\n      this.left_mouse_button_down     = false;\n      this.left_mouse_button_released = true;\n    }\n    if (this.middle_mouse_button_down)\n    {\n      this.middle_mouse_button_down     = false;\n      this.middle_mouse_button_released = true;\n    }\n    if (this.right_mouse_button_down)\n    {\n      this.right_mouse_button_down     = false;\n      this.right_mouse_button_released = true;\n    }\n  }\n\n  scroll(event)\n  {\n    this.pointer_pos.x = event.clientX;\n    this.pointer_pos.y = event.clientY;\n\n    if (OS.is_mac)\n    {\n      // User is pinching\n      if (event.ctrlKey)\n      {\n        // Negative values means pinch in.\n        // Positive values means pinch out.\n        // console.log('Pinching with a touchpad', event.deltaY);\n        // User is scrolling\n      }\n      else\n      {\n        // User is using the touchpad\n        if (MathUtilities.is_int(event.deltaY))\n        {\n          // Negative values means scroll up\n          // Positive values means scroll down\n          // console.log(\"Scrolling with a touchpad\", (event.deltaY))\n          // 350 is aprox the maximum value of deltaY on touchpad scroll\n          this.scroll_delta = MathUtilities.clamp(event.deltaY / 350, -1, 1) * -1;\n        }\n        else\n        {\n          // Negative values means scroll up\n          // Positive values means scroll down\n          // console.log(\"Scrolling with a mouse\", event.deltaY)\n          this.scroll_delta = event.deltaY / Math.abs(event.deltaY);\n        }\n      }\n    }\n    else\n    {\n      // probably windows\n      if (Math.abs(event.deltaY) < 0.0001)\n      {\n        this.scroll_delta = 0;\n      }\n      else\n      {\n        this.scroll_delta = event.deltaY / Math.abs(event.deltaY);\n      }\n    }\n  }\n\n  clear()\n  {\n    this.left_mouse_button_pressed  = false;\n    this.left_mouse_button_released = false;\n\n    this.right_mouse_button_pressed  = false;\n    this.right_mouse_button_released = false;\n\n    this.middle_mouse_button_pressed  = false;\n    this.middle_mouse_button_released = false;\n\n    this.scroll_delta = 0;\n\n    this.update_previous_pointer_pos();\n  }\n\n  get pointer_pos_delta()\n  {\n    return {\n      x: this.pointer_pos.x - this.previous_pointer_pos.x,\n      y: this.pointer_pos.y - this.previous_pointer_pos.y\n    };\n  }\n\n  get pointer_center()\n  {\n    return this.pointer_pos;\n  }\n\n  get pointer_center_delta()\n  {\n    return this.pointer_pos_delta;\n  }\n\n  update_previous_pointer_pos()\n  {\n    this.previous_pointer_pos.x = this.pointer_pos.x;\n    this.previous_pointer_pos.y = this.pointer_pos.y;\n  }\n}\n","export default class TouchInputModule\n{\n  constructor()\n  {\n    this.left_mouse_button_pressed  = false;\n    this.left_mouse_button_down     = false;\n    this.left_mouse_button_released = false;\n\n    this.pointers = [];\n\n    this.previous_separation_distance = undefined;\n    this.scroll_delta = 0;\n\n    this.previous_primary_pointer_pos = { x: 0, y: 0 };\n  }\n\n  get pointer_pos()\n  {\n    let x = this.previous_primary_pointer_pos.x;\n    let y = this.previous_primary_pointer_pos.y;\n\n    const p = this.pointers.find(p => p.is_primary);\n\n    if (p)\n    {\n      x = p.x;\n      y = p.y;\n    }\n\n    return {\n      x: x,\n      y: y\n    };\n  }\n\n  get pointer_pos_delta()\n  {\n    let x = 0;\n    let y = 0;\n\n    const p = this.pointers.find(p => p.is_primary);\n\n    if (p)\n    {\n      x = p.x - this.previous_primary_pointer_pos.x;\n      y = p.y - this.previous_primary_pointer_pos.y;\n    }\n    return {\n      x: x,\n      y: y\n    };\n  }\n\n  get pointer_count()\n  {\n    return this.pointers.length;\n  }\n\n  get pointer_center()\n  {\n    let x = 0;\n    let y = 0;\n\n    for (let i = 0; i < this.pointers.length; i++)\n    {\n      x += this.pointers[i].x;\n      y += this.pointers[i].y;\n    }\n\n    x /= Math.max(1, this.pointers.length);\n    y /= Math.max(1, this.pointers.length);\n\n    return {\n      x: x,\n      y: y\n    };\n  }\n\n  get previous_pointer_center()\n  {\n    let x = 0;\n    let y = 0;\n\n    for (let i = 0; i < this.pointers.length; i++)\n    {\n      x += this.pointers[i].previous_x;\n      y += this.pointers[i].previous_y;\n    }\n\n    x /= Math.max(1, this.pointers.length);\n    y /= Math.max(1, this.pointers.length);\n\n    return {\n      x: x,\n      y: y\n    };\n  }\n\n  get pointer_center_delta()\n  {\n    const current_center = this.pointer_center;\n    const prev_center = this.previous_pointer_center;\n\n    return {\n      x: current_center.x - prev_center.x,\n      y: current_center.y - prev_center.y\n    };\n  }\n\n  update_pointer_separation()\n  {\n    if (this.pointers.length === 2)\n    {\n      const x0 = this.pointers[0].x;\n      const y0 = this.pointers[0].y;\n\n      const x1 = this.pointers[1].x;\n      const y1 = this.pointers[1].y;\n\n      const distance = Math.sqrt(Math.pow(x0 - x1, 2) + Math.pow(y0 - y1, 2));\n\n      if (this.previous_separation_distance === undefined)\n      {\n        this.previous_separation_distance = distance;\n      }\n\n      const sensitivity = 0.15;\n      this.scroll_delta = -(distance - this.previous_separation_distance) * sensitivity;\n      this.previous_separation_distance = distance;\n    }\n    else\n    {\n      this.previous_separation_distance = undefined;\n      this.scroll_delta = 0;\n    }\n  }\n\n  update_pointer(pointer_id, x, y)\n  {\n    let p = this.pointers.find(p => p.id === pointer_id);\n\n    if (p === undefined)\n    {\n      p = {\n        id: pointer_id,\n        x: x,\n        y: y,\n        previous_x: x,\n        previous_y: y,\n        is_primary: this.pointers.length === 0\n      };\n\n      this.pointers.push(p);\n    }\n\n    if (p.is_primary)\n    {\n      this.previous_primary_pointer_pos.x = p.x;\n      this.previous_primary_pointer_pos.y = p.y;\n    }\n\n    p.previous_x = p.x;\n    p.previous_y = p.y;\n\n    p.x = x;\n    p.y = y;\n\n    this.update_pointer_separation();\n\n    return p;\n  }\n\n  remove_pointer(pointer_id)\n  {\n    const index = this.pointers.findIndex(p => p.id === pointer_id);\n\n    if (index !== undefined)\n    {\n      this.pointers.splice(index, 1);\n    }\n    this.update_pointer_separation();\n  }\n\n  pointer_down(event)\n  {\n    const touches = event.changedTouches;\n\n    for (let i = 0; i < touches.length; i++)\n    {\n      const touch = touches[i];\n      const p = this.update_pointer(touch.identifier, touch.clientX, touch.clientY);\n\n      if (p.is_primary)\n      {\n        this.left_mouse_button_pressed = true;\n        this.left_mouse_button_down    = true;\n      }\n    }\n  }\n\n  pointer_up(event)\n  {\n    const touches = event.changedTouches;\n\n    for (let i = 0; i < touches.length; i++)\n    {\n      const touch = touches[i];\n      const p = this.update_pointer(touch.identifier, touch.clientX, touch.clientY);\n\n      if (p.is_primary)\n      {\n        this.left_mouse_button_released = true;\n        this.left_mouse_button_down     = false;\n      }\n      this.remove_pointer(p.id);\n    }\n  }\n\n  pointer_move(event)\n  {\n    const touches = event.changedTouches;\n\n    for (let i = 0; i < touches.length; i++)\n    {\n      const touch = touches[i];\n      this.update_pointer(touch.identifier, touch.clientX, touch.clientY);\n    }\n  }\n\n  pointer_cancel(event)\n  {\n    this.pointer_out(event);\n  }\n\n  pointer_out(event)\n  {\n    const touches = event.changedTouches;\n\n    for (let i = 0; i < touches.length; i++)\n    {\n      const touch = touches[i];\n      const p = this.update_pointer(touch.identifier, touch.clientX, touch.clientY);\n\n      if (this.left_mouse_button_down && p.is_primary)\n      {\n        this.left_mouse_button_down     = false;\n        this.left_mouse_button_released = true;\n      }\n\n      this.remove_pointer(p.id);\n    }\n  }\n\n  clear()\n  {\n    this.left_mouse_button_pressed  = false;\n    this.left_mouse_button_released = false;\n    this.scroll_delta = 0;\n  }\n}\n","import MouseInputModule from './MouseInputModule';\nimport TouchInputModule from './TouchInputModule';\n\nexport default class InputController\n{\n  init(dom_element, sub_region_element)\n  {\n    this.dom_element = dom_element;\n    this.sub_region_element = sub_region_element === undefined ? dom_element : sub_region_element;\n    this.mouse_input_module = new MouseInputModule();\n    this.touch_input_module = new TouchInputModule();\n\n    this.active_input_module = this.mouse_input_module;\n\n    this.region_bounds = {\n      x: 0,\n      y: 0,\n      width: 1,\n      height: 1\n    };\n\n    this.update_region_bounds();\n\n    this.touch_cooldown = new Date() - 1000;\n\n    this.bind_events();\n  }\n\n  bind_events()\n  {\n    this.__binded_on_wheel = this.on_wheel.bind(this);\n    this.dom_element.addEventListener('wheel', this.__binded_on_wheel, { passive: true });\n\n    this.__binded_on_touchstart = this.on_touchstart.bind(this);\n    this.dom_element.addEventListener('touchstart', this.__binded_on_touchstart, { passive: true });\n    this.__binded_on_touchmove = this.on_touchmove.bind(this);\n    this.dom_element.addEventListener('touchmove', this.__binded_on_touchmove, { passive: true });\n    this.__binded_on_touchcancel = this.on_touchcancel.bind(this);\n    this.dom_element.addEventListener('touchcancel', this.__binded_on_touchcancel, { passive: true });\n    this.__binded_on_touchend = this.on_touchend.bind(this);\n    this.dom_element.addEventListener('touchend', this.__binded_on_touchend, { passive: true });\n\n    this.__binded_on_mousedown = this.on_mousedown.bind(this);\n    this.dom_element.addEventListener('mousedown', this.__binded_on_mousedown, false);\n    this.__binded_on_mousemove = this.on_mousemove.bind(this);\n    this.dom_element.addEventListener('mousemove', this.__binded_on_mousemove, false);\n    this.__binded_on_mouseup = this.on_mouseup.bind(this);\n    this.dom_element.addEventListener('mouseup', this.__binded_on_mouseup, false);\n    this.__binded_on_mouseleave = this.on_mouseleave.bind(this);\n    this.dom_element.addEventListener('mouseleave', this.__binded_on_mouseleave, false);\n  }\n\n  unbind_events()\n  {\n    this.dom_element.removeEventListener('wheel', this.__binded_on_wheel, { passive: true });\n\n    this.dom_element.removeEventListener('touchstart', this.__binded_on_touchstart, { passive: true });\n    this.dom_element.removeEventListener('touchmove', this.__binded_on_touchmove, { passive: true });\n    this.dom_element.removeEventListener('touchcancel', this.__binded_on_touchcancel, { passive: true });\n    this.dom_element.removeEventListener('touchend', this.__binded_on_touchend, { passive: true });\n\n    this.dom_element.removeEventListener('mousedown', this.__binded_on_mousedown, false);\n    this.dom_element.removeEventListener('mousemove', this.__binded_on_mousemove, false);\n    this.dom_element.removeEventListener('mouseup', this.__binded_on_mouseup, false);\n    this.dom_element.removeEventListener('mouseleave', this.__binded_on_mouseleave, false);\n  }\n\n  on_wheel(event)\n  {\n    this.mouse_input_module.scroll(event);\n    this.set_mouse_input_active();\n  }\n\n  on_touchstart(event)\n  {\n    this.touch_input_module.pointer_down(event);\n    this.set_touch_input_active();\n  }\n\n  on_touchmove(event)\n  {\n    this.touch_input_module.pointer_move(event);\n    this.set_touch_input_active();\n  }\n\n  on_touchcancel(event)\n  {\n    this.touch_input_module.pointer_cancel(event);\n    this.set_touch_input_active();\n  }\n\n  on_touchend(event)\n  {\n    this.touch_input_module.pointer_up(event);\n    this.set_touch_input_active();\n  }\n\n  on_mousedown(event)\n  {\n    if (this.mouse_input_allowed())\n    {\n      this.mouse_input_module.pointer_down(event);\n      this.set_mouse_input_active();\n    }\n  }\n\n  on_mousemove(event)\n  {\n    if (this.mouse_input_allowed())\n    {\n      this.mouse_input_module.pointer_move(event);\n      this.set_mouse_input_active();\n    }\n  }\n\n  on_mouseup(event)\n  {\n    if (this.mouse_input_allowed())\n    {\n      this.mouse_input_module.pointer_up(event);\n      this.set_mouse_input_active();\n    }\n  }\n\n  on_mouseleave(event)\n  {\n    this.mouse_input_module.pointer_out(event);\n    this.set_mouse_input_active();\n  }\n\n  clear()\n  {\n    this.touch_input_module.clear();\n    this.mouse_input_module.clear();\n    this.update_region_bounds();\n  }\n\n  update_region_bounds()\n  {\n    const region_bounds = this.sub_region_element.getBoundingClientRect();\n\n    this.region_bounds.x = region_bounds.left;\n    this.region_bounds.y = region_bounds.top;\n    this.region_bounds.width = region_bounds.width;\n    this.region_bounds.height = region_bounds.height;\n  }\n\n  mouse_input_allowed()\n  {\n    return (new Date() - this.touch_cooldown) / 1000 > 0.75;\n  }\n\n  set_mouse_input_active()\n  {\n    this.active_input_module = this.mouse_input_module;\n  }\n\n  set_touch_input_active()\n  {\n    this.active_input_module = this.touch_input_module;\n    this.touch_cooldown = new Date();\n  }\n\n  get left_mouse_button_pressed()\n  {\n    return this.active_input_module.left_mouse_button_pressed;\n  }\n\n  get left_mouse_button_down()\n  {\n    return this.active_input_module.left_mouse_button_down;\n  }\n\n  get left_mouse_button_released()\n  {\n    return this.active_input_module.left_mouse_button_released;\n  }\n\n  get right_mouse_button_pressed()\n  {\n    return this.mouse_input_module.right_mouse_button_pressed;\n  }\n\n  get right_mouse_button_down()\n  {\n    return this.mouse_input_module.right_mouse_button_down;\n  }\n\n  get right_mouse_button_released()\n  {\n    return this.mouse_input_module.right_mouse_button_released;\n  }\n\n  get middle_mouse_button_pressed()\n  {\n    return this.mouse_input_module.middle_mouse_button_pressed;\n  }\n\n  get middle_mouse_button_down()\n  {\n    return this.mouse_input_module.middle_mouse_button_down;\n  }\n\n  get middle_mouse_button_released()\n  {\n    return this.mouse_input_module.middle_mouse_button_released;\n  }\n\n  check_for_legal_bounds()\n  {\n    if (this.region_bounds.width === 0 || this.region_bounds.height === 0)\n    {\n      console.error('Cannot get normalized mouse position for target element due to the element having 0 width or height', this.dom_element, this.region_bounds);\n    }\n  }\n\n  transform_pos_to_subregion(pos)\n  {\n    return {\n      x: pos.x - this.region_bounds.x,\n      y: this.region_bounds.height - (pos.y - this.region_bounds.y)\n    };\n  }\n\n  transform_pos_to_NDC(pos)\n  {\n    this.check_for_legal_bounds();\n\n    return {\n      x: (pos.x / this.region_bounds.width) * 2 - 1,\n      y: (pos.y / this.region_bounds.height) * 2 - 1\n    };\n  }\n\n  get scroll_delta()\n  {\n    return this.active_input_module.scroll_delta;\n  }\n\n  get pointer_count()\n  {\n    return this.active_input_module.pointer_count;\n  }\n\n  get pointer_is_within_bounds()\n  {\n    const ndc = this.NDC;\n\n    return  ndc.x >= -1 && ndc.x <= 1 &&\n            ndc.y >= -1 && ndc.y <= 1;\n  }\n\n  pointer_is_over_element(elem)\n  {\n    const rect = elem.getBoundingClientRect();\n    const pos = this.html_pointer_pos;\n\n    return  pos.x > rect.left &&\n            pos.x < rect.left + rect.width &&\n            pos.y > rect.top &&\n            pos.y < rect.top + rect.height;\n  }\n\n  get pointer_pos()\n  {\n    return this.transform_pos_to_subregion(this.active_input_module.pointer_pos);\n  }\n\n  get html_pointer_pos()\n  {\n    return {\n      x: this.active_input_module.pointer_pos.x,\n      y: this.active_input_module.pointer_pos.y\n    };\n  }\n\n  get pointer_pos_delta()\n  {\n    const pos_delta = this.active_input_module.pointer_pos_delta;\n\n    return {\n      x: pos_delta.x,\n      y: pos_delta.y * -1\n    };\n  }\n\n  get NDC()\n  {\n    return this.transform_pos_to_NDC(this.pointer_pos);\n  }\n\n  get NDC_delta()\n  {\n    this.check_for_legal_bounds();\n    return {\n      x: this.pointer_pos_delta.x / this.region_bounds.width,\n      y: this.pointer_pos_delta.y / this.region_bounds.height\n    };\n  }\n\n  get pointer_center()\n  {\n    return this.transform_pos_to_subregion(this.active_input_module.pointer_center);\n  }\n\n  get pointer_center_delta()\n  {\n    const center_delta = this.active_input_module.pointer_center_delta;\n\n    return {\n      x: center_delta.x,\n      y: center_delta.y * -1\n    };\n  }\n\n  get pointer_center_NDC()\n  {\n    return this.transform_pos_to_NDC(this.pointer_center);\n  }\n\n  get pointer_center_NDC_delta()\n  {\n    this.check_for_legal_bounds();\n\n    const center_delta = this.pointer_center_delta;\n\n    return {\n      x: center_delta.x / this.region_bounds.width,\n      y: center_delta.y / this.region_bounds.height\n    };\n  }\n\n  dispose()\n  {\n    this.unbind_events();\n  }\n}\n"],"names":["MathUtilities","static","value","min","max","Math","n","Number","constructor","this","operating_systems","ANDROID","IOS","LINUX","MAC","WINDOWS","get_os","userAgent","window","navigator","platform","os","indexOf","test","is_android","is_ios","match","is_ipad","is_mobile","is_linux","is_mac","is_windows","MouseInputModule","left_mouse_button_pressed","left_mouse_button_down","left_mouse_button_released","right_mouse_button_pressed","right_mouse_button_down","right_mouse_button_released","middle_mouse_button_pressed","middle_mouse_button_down","middle_mouse_button_released","pointer_pos","x","y","previous_pointer_pos","scroll_delta","pointer_count","pointer_down","event","clientX","clientY","button","pointer_up","pointer_move","pointer_cancel","pointer_out","scroll","OS","ctrlKey","is_int","deltaY","clamp","abs","clear","update_previous_pointer_pos","pointer_pos_delta","pointer_center","pointer_center_delta","TouchInputModule","pointers","previous_separation_distance","undefined","previous_primary_pointer_pos","p","find","is_primary","length","i","previous_pointer_center","previous_x","previous_y","current_center","prev_center","update_pointer_separation","x0","y0","x1","y1","distance","sqrt","pow","sensitivity","update_pointer","pointer_id","id","push","remove_pointer","index","findIndex","splice","touches","changedTouches","touch","identifier","InputController","init","dom_element","sub_region_element","mouse_input_module","touch_input_module","active_input_module","region_bounds","width","height","update_region_bounds","touch_cooldown","Date","bind_events","__binded_on_wheel","on_wheel","bind","addEventListener","passive","__binded_on_touchstart","on_touchstart","__binded_on_touchmove","on_touchmove","__binded_on_touchcancel","on_touchcancel","__binded_on_touchend","on_touchend","__binded_on_mousedown","on_mousedown","__binded_on_mousemove","on_mousemove","__binded_on_mouseup","on_mouseup","__binded_on_mouseleave","on_mouseleave","unbind_events","removeEventListener","set_mouse_input_active","set_touch_input_active","mouse_input_allowed","getBoundingClientRect","left","top","check_for_legal_bounds","console","error","transform_pos_to_subregion","pos","transform_pos_to_NDC","pointer_is_within_bounds","ndc","NDC","pointer_is_over_element","elem","rect","html_pointer_pos","pos_delta","NDC_delta","center_delta","pointer_center_NDC","pointer_center_NDC_delta","dispose"],"mappings":"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"}