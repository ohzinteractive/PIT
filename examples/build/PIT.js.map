{"mappings":"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","sources":["./src/utilities/MathUtilities.js","./src/utilities/OS.js","./src/MouseInputModule.js","./src/TouchInputModule.js","./src/InputController.js"],"sourcesContent":["export default class MathUtilities\r\n{\r\n  static clamp(value, min, max)\r\n  {\r\n    return Math.max( min, Math.min( max, value ) );\r\n  }\r\n\r\n  static is_int(n)\r\n  {\r\n    return Number(n) === n && n % 1 === 0;\r\n  }\r\n}\r\n","export class OS\r\n{\r\n  constructor()\r\n  {\r\n    this.operating_systems = {\r\n      ANDROID: 'android',\r\n      IOS: 'ios',\r\n      LINUX: 'linux',\r\n      MAC: 'mac',\r\n      WINDOWS: 'windows'\r\n    };\r\n  }\r\n\r\n  get_os()\r\n  {\r\n    let userAgent = window.navigator.userAgent;\r\n    let platform = window.navigator.platform;\r\n    let macosPlatforms = ['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'];\r\n    let windowsPlatforms = ['Win32', 'Win64', 'Windows', 'WinCE'];\r\n    let iosPlatforms = ['iPhone', 'iPad', 'iPod'];\r\n    let os = null;\r\n\r\n    if (macosPlatforms.indexOf(platform) !== -1)\r\n    {\r\n      os = this.operating_systems.MAC;\r\n    }\r\n    else if (iosPlatforms.indexOf(platform) !== -1)\r\n    {\r\n      os = this.operating_systems.IOS;\r\n    }\r\n    else if (windowsPlatforms.indexOf(platform) !== -1)\r\n    {\r\n      os = this.operating_systems.WINDOWS;\r\n    }\r\n    else if (/Android/.test(userAgent))\r\n    {\r\n      os = this.operating_systems.ANDROID;\r\n    }\r\n    else if (!os && /Linux/.test(platform))\r\n    {\r\n      os = this.operating_systems.LINUX;\r\n    }\r\n\r\n    return os;\r\n  }\r\n\r\n  get is_android()\r\n  {\r\n    return this.get_os() === this.operating_systems.ANDROID;\r\n  }\r\n\r\n  get is_ios()\r\n  {\r\n    return navigator.userAgent.match(/(iPhone|iPod|iPad)/);\r\n  }\r\n\r\n  get is_ipad()\r\n  {\r\n    return navigator.userAgent.match(/(iPad)/);\r\n  }\r\n\r\n  get is_mobile()\r\n  {\r\n    return !!(navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/));\r\n  }\r\n\r\n  get is_linux()\r\n  {\r\n    return this.get_os() === this.operating_systems.LINUX;\r\n  }\r\n\r\n  get is_mac()\r\n  {\r\n    return this.get_os() === this.operating_systems.MAC;\r\n  }\r\n\r\n  get is_windows()\r\n  {\r\n    return this.get_os() === this.operating_systems.WINDOWS;\r\n  }\r\n}\r\n\r\nexport default new OS();\r\n","import MathUtilities from './utilities/MathUtilities';\r\nimport OS from './utilities/OS';\r\nexport default class MouseInputModule\r\n{\r\n  constructor()\r\n  {\r\n    this.left_mouse_button_pressed  = false;\r\n    this.left_mouse_button_down     = false;\r\n    this.left_mouse_button_released = false;\r\n\r\n    this.right_mouse_button_pressed  = false;\r\n    this.right_mouse_button_down     = false;\r\n    this.right_mouse_button_released = false;\r\n\r\n    this.middle_mouse_button_pressed  = false;\r\n    this.middle_mouse_button_down     = false;\r\n    this.middle_mouse_button_released = false;\r\n\r\n\r\n    this.pointer_pos = {x: 0, y: 0};\r\n    this.previous_pointer_pos = {x: 0, y: 0};\r\n\r\n    this.scroll_delta = 0;\r\n  }\r\n\r\n  get pointer_count()\r\n  {\r\n    if(this.left_mouse_button_down  ||\r\n       this.right_mouse_button_down ||\r\n       this.middle_mouse_button_down  )\r\n      return 1;\r\n    else\r\n      return 0;\r\n  }\r\n\r\n  pointer_down(event)\r\n  {\r\n\r\n    this.pointer_pos.x = event.clientX;\r\n    this.pointer_pos.y = event.clientY;\r\n\r\n    this.previous_pointer_pos.x = event.clientX;\r\n    this.previous_pointer_pos.y = event.clientY;\r\n\r\n    switch(event.button)\r\n    {\r\n      case 0:\r\n        this.left_mouse_button_pressed = true;\r\n        this.left_mouse_button_down    = true;\r\n        break;\r\n      case 1:\r\n        this.middle_mouse_button_pressed = true;\r\n        this.middle_mouse_button_down    = true;\r\n        break;\r\n      case 2:\r\n        this.right_mouse_button_pressed = true;\r\n        this.right_mouse_button_down    = true;\r\n        break;\r\n    }\r\n  }\r\n\r\n  pointer_up(event)\r\n  {\r\n    switch(event.button)\r\n    {\r\n      case 0:\r\n        this.left_mouse_button_released = true;\r\n        this.left_mouse_button_down     = false;\r\n        break;\r\n      case 1:\r\n        this.middle_mouse_button_released = true;\r\n        this.middle_mouse_button_down     = false;\r\n        break;\r\n      case 2:\r\n        this.right_mouse_button_released = true;\r\n        this.right_mouse_button_down     = false;\r\n        break;\r\n    }\r\n  }\r\n\r\n  pointer_move(event)\r\n  {\r\n    this.pointer_pos.x = event.clientX;\r\n    this.pointer_pos.y = event.clientY;\r\n  }\r\n\r\n  pointer_cancel(event)\r\n  {\r\n    this.pointer_out(event)\r\n  }\r\n\r\n  pointer_out(event)\r\n  {\r\n    if(this.left_mouse_button_down)\r\n    {\r\n      this.left_mouse_button_down     = false;\r\n      this.left_mouse_button_released = true;\r\n    }\r\n    if(this.middle_mouse_button_down)\r\n    {\r\n      this.middle_mouse_button_down     = false;\r\n      this.middle_mouse_button_released = true;\r\n    }\r\n    if(this.right_mouse_button_down)\r\n    {\r\n      this.right_mouse_button_down     = false;\r\n      this.right_mouse_button_released = true;\r\n    }\r\n  }\r\n\r\n  scroll(event)\r\n  {\r\n    this.pointer_pos.x = event.clientX;\r\n    this.pointer_pos.y = event.clientY;\r\n\r\n    if (OS.is_mac)\r\n    {\r\n      // User is pinching\r\n      if (event.ctrlKey)\r\n      {\r\n        // Negative values means pinch in.\r\n        // Positive values means pinch out.\r\n        // console.log('Pinching with a touchpad', event.deltaY);\r\n        // User is scrolling\r\n      }\r\n      else\r\n      {\r\n        // User is using the touchpad\r\n        if (MathUtilities.is_int(event.deltaY))\r\n        {\r\n          // Negative values means scroll up\r\n          // Positive values means scroll down\r\n          // console.log(\"Scrolling with a touchpad\", (event.deltaY))\r\n          // 350 is aprox the maximum value of deltaY on touchpad scroll\r\n          this.scroll_delta = MathUtilities.clamp(event.deltaY / 350, -1, 1) * -1;\r\n        }\r\n        else\r\n        {\r\n          // Negative values means scroll up\r\n          // Positive values means scroll down\r\n          // console.log(\"Scrolling with a mouse\", event.deltaY)\r\n          this.scroll_delta = event.deltaY / Math.abs(event.deltaY);\r\n        }\r\n      }\r\n    }\r\n    else\r\n    {\r\n      // probably windows\r\n      if (Math.abs(event.deltaY) < 0.0001)\r\n      {\r\n        this.scroll_delta = 0;\r\n      }\r\n      else\r\n      {\r\n        this.scroll_delta = event.deltaY / Math.abs(event.deltaY);\r\n      }\r\n    }\r\n  }\r\n\r\n  clear()\r\n  {\r\n    this.left_mouse_button_pressed  = false;\r\n    this.left_mouse_button_released = false;\r\n\r\n    this.right_mouse_button_pressed  = false;\r\n    this.right_mouse_button_released = false;\r\n\r\n    this.middle_mouse_button_pressed  = false;\r\n    this.middle_mouse_button_released = false;\r\n\r\n    this.scroll_delta = 0;\r\n\r\n    this.update_previous_pointer_pos();\r\n  }\r\n\r\n  get pointer_pos_delta()\r\n  {\r\n    return {\r\n      x: this.pointer_pos.x - this.previous_pointer_pos.x,\r\n      y: this.pointer_pos.y - this.previous_pointer_pos.y\r\n    }\r\n  }\r\n\r\n  get pointer_center()\r\n  {\r\n    return this.pointer_pos;\r\n  }\r\n\r\n  get pointer_center_delta(){\r\n    return this.pointer_pos_delta;\r\n  }\r\n\r\n  update_previous_pointer_pos()\r\n  {\r\n    this.previous_pointer_pos.x = this.pointer_pos.x;\r\n    this.previous_pointer_pos.y = this.pointer_pos.y;\r\n  }\r\n}\r\n","export default class TouchInputModule\r\n{\r\n  constructor()\r\n  {\r\n    this.left_mouse_button_pressed  = false;\r\n    this.left_mouse_button_down     = false;\r\n    this.left_mouse_button_released = false;\r\n\r\n\r\n    this.pointers = [];\r\n\r\n    this.previous_separation_distance = undefined;\r\n    this.scroll_delta = 0;\r\n  }\r\n\r\n  get pointer_pos()\r\n  {\r\n    let x = 0;\r\n    let y = 0;\r\n\r\n\r\n    let p = this.pointers.find( p => p.is_primary );\r\n\r\n    if(p)\r\n    {\r\n      x = p.x;\r\n      y = p.y;\r\n    }\r\n\r\n    return {\r\n      x: x,\r\n      y: y\r\n    }\r\n  }\r\n\r\n  get pointer_pos_delta()\r\n  {\r\n    let x = 0;\r\n    let y = 0;\r\n\r\n    let p = this.pointers.find( p => p.is_primary );\r\n\r\n    if(p)\r\n    {\r\n      x = p.x - p.previous_x;\r\n      y = p.y - p.previous_y;\r\n    }\r\n\r\n    return {\r\n      x: x,\r\n      y: y\r\n    }\r\n  }\r\n\r\n  get pointer_count()\r\n  {\r\n    return this.pointers.length;\r\n  }\r\n\r\n  get pointer_center()\r\n  {\r\n    let x = 0;\r\n    let y = 0;\r\n\r\n\r\n    for(let i=0; i< this.pointers.length; i++)\r\n    {\r\n      x += this.pointers[i].x;\r\n      y += this.pointers[i].y;\r\n    }\r\n\r\n    x /= Math.max(1, this.pointers.length);\r\n    y /= Math.max(1, this.pointers.length);\r\n\r\n    return {\r\n      x: x,\r\n      y: y\r\n    }\r\n  }\r\n  get previous_pointer_center()\r\n  {\r\n    let x = 0;\r\n    let y = 0;\r\n\r\n\r\n    for(let i=0; i< this.pointers.length; i++)\r\n    {\r\n      x += this.pointers[i].previous_x;\r\n      y += this.pointers[i].previous_y;\r\n    }\r\n\r\n    x /= Math.max(1, this.pointers.length);\r\n    y /= Math.max(1, this.pointers.length);\r\n\r\n    return {\r\n      x: x,\r\n      y: y\r\n    }\r\n  }\r\n\r\n  get pointer_center_delta(){\r\n    let current_center = this.pointer_center;\r\n    let prev_center = this.previous_pointer_center;\r\n    return {\r\n      x: current_center.x - prev_center.x,\r\n      y: current_center.y - prev_center.y\r\n    }\r\n  }\r\n\r\n  update_pointer_separation()\r\n  {\r\n    if(this.pointers.length === 2)\r\n    {\r\n      let x0 = this.pointers[0].x;\r\n      let y0 = this.pointers[0].y;\r\n\r\n      let x1 = this.pointers[1].x;\r\n      let y1 = this.pointers[1].y;\r\n\r\n      let distance = Math.sqrt(Math.pow(x0 - x1,2) + Math.pow(y0 - y1, 2));\r\n\r\n      if(this.previous_separation_distance === undefined)\r\n        this.previous_separation_distance = distance;\r\n\r\n      let sensitivity = 0.15;\r\n      this.scroll_delta = - (distance - this.previous_separation_distance) * sensitivity;\r\n      this.previous_separation_distance = distance;\r\n    }\r\n    else\r\n    {\r\n      this.previous_separation_distance = undefined;\r\n      this.scroll_delta = 0;\r\n    }\r\n  }\r\n\r\n  update_pointer(pointer_id, x, y)\r\n  {\r\n    let p = this.pointers.find( p => p.id === pointer_id );\r\n    if(p === undefined)\r\n    {\r\n      p = {\r\n        id: pointer_id,\r\n        x: x,\r\n        y: y,\r\n        previous_x: x,\r\n        previous_y: y,\r\n        is_primary: this.pointers.length === 0\r\n      }\r\n      this.pointers.push(p)\r\n    }\r\n\r\n    p.previous_x = p.x;\r\n    p.previous_y = p.y;\r\n\r\n    p.x = x;\r\n    p.y = y;\r\n\r\n    this.update_pointer_separation();\r\n\r\n    return p;\r\n  }\r\n\r\n  remove_pointer(pointer_id)\r\n  {\r\n    let index = this.pointers.findIndex( p => p.id === pointer_id );\r\n    if(index !== undefined)\r\n    {\r\n      this.pointers.splice(index, 1);\r\n    }\r\n    this.update_pointer_separation();\r\n  }\r\n\r\n  pointer_down(event)\r\n  {\r\n    if (event.scale && event.scale !== 1) { event.preventDefault(); }\r\n\r\n    let touches = event.changedTouches;\r\n    for(let i=0; i< touches.length; i++)\r\n    {\r\n      let touch = touches[i];\r\n      let p = this.update_pointer(touch.identifier, touch.clientX, touch.clientY);\r\n      if(p.is_primary)\r\n      {\r\n        this.left_mouse_button_pressed = true;\r\n        this.left_mouse_button_down    = true;\r\n      }\r\n    }\r\n  }\r\n\r\n  pointer_up(event)\r\n  {\r\n    if (event.scale && event.scale !== 1) { event.preventDefault(); }\r\n\r\n    let touches = event.changedTouches;\r\n    for(let i=0; i< touches.length; i++)\r\n    {\r\n      let touch = touches[i];\r\n      let p = this.update_pointer(touch.identifier, touch.clientX, touch.clientY);\r\n\r\n      if(p.is_primary)\r\n      {\r\n        this.left_mouse_button_released = true;\r\n        this.left_mouse_button_down     = false;\r\n      }\r\n      this.remove_pointer(p.id);\r\n    }\r\n  }\r\n\r\n  pointer_move(event)\r\n  {\r\n    if (event.scale && event.scale !== 1) { event.preventDefault(); }\r\n\r\n    let touches = event.changedTouches;\r\n    for(let i=0; i< touches.length; i++)\r\n    {\r\n      let touch = touches[i];\r\n      this.update_pointer(touch.identifier, touch.clientX, touch.clientY)\r\n    }\r\n  }\r\n\r\n  pointer_cancel(event)\r\n  {\r\n    this.pointer_out(event);\r\n  }\r\n\r\n  pointer_out(event)\r\n  {\r\n    let touches = event.changedTouches;\r\n    for(let i=0; i< touches.length; i++)\r\n    {\r\n      let touch = touches[i];\r\n      let p = this.update_pointer(touch.identifier, touch.clientX, touch.clientY)\r\n      if(this.left_mouse_button_down && p.is_primary)\r\n      {\r\n        this.left_mouse_button_down     = false;\r\n        this.left_mouse_button_released = true;\r\n      }\r\n\r\n      this.remove_pointer(p.id);\r\n    }\r\n  }\r\n\r\n  clear()\r\n  {\r\n    this.left_mouse_button_pressed  = false;\r\n    this.left_mouse_button_released = false;\r\n    this.scroll_delta = 0;\r\n  }\r\n}\r\n","import MouseInputModule from './MouseInputModule';\r\nimport TouchInputModule from './TouchInputModule';\r\n\r\nexport default class InputController\r\n{\r\n  init(dom_element, sub_region_element)\r\n  {\r\n    this.dom_element = dom_element;\r\n    this.sub_region_element = sub_region_element === undefined? dom_element : sub_region_element;\r\n    this.mouse_input_module = new MouseInputModule();\r\n    this.touch_input_module = new TouchInputModule();\r\n\r\n    this.active_input_module = this.mouse_input_module;\r\n\r\n    this.region_bounds = {\r\n      x: 0,\r\n      y: 0,\r\n      width: 1,\r\n      height: 1\r\n    };\r\n\r\n    this.update_region_bounds();\r\n\r\n    this.touch_cooldown = new Date() - 1000;\r\n\r\n    let self = this;\r\n\r\n    this.bind_events();\r\n  }\r\n\r\n  bind_events()\r\n  {\r\n    this.__binded_on_wheel = this.on_wheel.bind(this);\r\n    this.dom_element.addEventListener('wheel', this.__binded_on_wheel);\r\n\r\n    this.__binded_on_touchstart = this.on_touchstart.bind(this);\r\n    this.dom_element.addEventListener('touchstart', this.__binded_on_touchstart, { passive: false });\r\n    this.__binded_on_touchmove = this.on_touchmove.bind(this);\r\n    this.dom_element.addEventListener('touchmove', this.__binded_on_touchmove, { passive: false });\r\n    this.__binded_on_touchcancel = this.on_touchcancel.bind(this);\r\n    this.dom_element.addEventListener('touchcancel', this.__binded_on_touchcancel, { passive: false });\r\n    this.__binded_on_touchend = this.on_touchend.bind(this);\r\n    this.dom_element.addEventListener('touchend', this.__binded_on_touchend, { passive: false });\r\n\r\n    this.__binded_on_mousedown = this.on_mousedown.bind(this);\r\n    this.dom_element.addEventListener('mousedown', this.__binded_on_mousedown, false);\r\n    this.__binded_on_mousemove = this.on_mousemove.bind(this);\r\n    this.dom_element.addEventListener('mousemove', this.__binded_on_mousemove, false);\r\n    this.__binded_on_mouseup = this.on_mouseup.bind(this);\r\n    this.dom_element.addEventListener('mouseup', this.__binded_on_mouseup, false);\r\n    this.__binded_on_mouseleave = this.on_mouseleave.bind(this);\r\n    this.dom_element.addEventListener('mouseleave', this.__binded_on_mouseleave, false);\r\n  }\r\n\r\n  unbind_events()\r\n  {\r\n    this.dom_element.removeEventListener('wheel', this.__binded_on_wheel);\r\n\r\n    this.dom_element.removeEventListener('touchstart', this.__binded_on_touchstart, { passive: false });\r\n    this.dom_element.removeEventListener('touchmove', this.__binded_on_touchmove, { passive: false });\r\n    this.dom_element.removeEventListener('touchcancel', this.__binded_on_touchcancel, { passive: false });\r\n    this.dom_element.removeEventListener('touchend', this.__binded_on_touchend, { passive: false });\r\n\r\n    this.dom_element.removeEventListener('mousedown', this.__binded_on_mousedown, false);\r\n    this.dom_element.removeEventListener('mousemove', this.__binded_on_mousemove, false);\r\n    this.dom_element.removeEventListener('mouseup', this.__binded_on_mouseup, false);\r\n    this.dom_element.removeEventListener('mouseleave', this.__binded_on_mouseleave, false);\r\n  }\r\n\r\n  on_wheel(event)\r\n  {\r\n    this.mouse_input_module.scroll(event);\r\n    this.set_mouse_input_active();\r\n  }\r\n\r\n  on_touchstart(event)\r\n  {\r\n    this.touch_input_module.pointer_down(event);\r\n    this.set_touch_input_active();\r\n  }\r\n\r\n  on_touchmove(event)\r\n  {\r\n    this.touch_input_module.pointer_move(event);\r\n    this.set_touch_input_active();\r\n  }\r\n\r\n  on_touchcancel(event)\r\n  {\r\n    this.touch_input_module.pointer_cancel(event);\r\n    this.set_touch_input_active();\r\n  }\r\n\r\n  on_touchend(event)\r\n  {\r\n    this.touch_input_module.pointer_up(event);\r\n    this.set_touch_input_active();\r\n  }\r\n\r\n  on_mousedown(event)\r\n  {\r\n    if (this.mouse_input_allowed())\r\n    {\r\n      this.mouse_input_module.pointer_down(event);\r\n      this.set_mouse_input_active();\r\n    }\r\n  }\r\n\r\n  on_mousemove(event)\r\n  {\r\n    if (this.mouse_input_allowed())\r\n    {\r\n      this.mouse_input_module.pointer_move(event);\r\n      this.set_mouse_input_active();\r\n    }\r\n  }\r\n\r\n  on_mouseup(event)\r\n  {\r\n    if (this.mouse_input_allowed())\r\n    {\r\n      this.mouse_input_module.pointer_up(event);\r\n      this.set_mouse_input_active();\r\n    }\r\n  }\r\n\r\n  on_mouseleave(event)\r\n  {\r\n    this.mouse_input_module.pointer_out(event);\r\n    this.set_mouse_input_active();\r\n  }\r\n\r\n  clear()\r\n  {\r\n    this.touch_input_module.clear();\r\n    this.mouse_input_module.clear();\r\n    this.update_region_bounds();\r\n  }\r\n\r\n  update_region_bounds()\r\n  {\r\n    let region_bounds = this.sub_region_element.getBoundingClientRect();\r\n    this.region_bounds.x = region_bounds.left;\r\n    this.region_bounds.y = region_bounds.top;\r\n    this.region_bounds.width = region_bounds.width;\r\n    this.region_bounds.height = region_bounds.height;\r\n  }\r\n\r\n  mouse_input_allowed()\r\n  {\r\n    return (new Date() - this.touch_cooldown) / 1000 > 0.75;\r\n  }\r\n\r\n  set_mouse_input_active()\r\n  {\r\n    this.active_input_module = this.mouse_input_module;\r\n  }\r\n  set_touch_input_active()\r\n  {\r\n    this.active_input_module = this.touch_input_module;\r\n    this.touch_cooldown = new Date();\r\n  }\r\n\r\n  get left_mouse_button_pressed()\r\n  {\r\n    return this.active_input_module.left_mouse_button_pressed;\r\n  }\r\n\r\n  get left_mouse_button_down()\r\n  {\r\n    return this.active_input_module.left_mouse_button_down;\r\n  }\r\n\r\n  get left_mouse_button_released()\r\n  {\r\n    return this.active_input_module.left_mouse_button_released;\r\n  }\r\n\r\n  get right_mouse_button_pressed()\r\n  {\r\n    return this.mouse_input_module.right_mouse_button_pressed;\r\n  }\r\n\r\n  get right_mouse_button_down()\r\n  {\r\n    return this.mouse_input_module.right_mouse_button_down;\r\n  }\r\n\r\n  get right_mouse_button_released()\r\n  {\r\n    return this.mouse_input_module.right_mouse_button_released;\r\n  }\r\n  get middle_mouse_button_pressed()\r\n  {\r\n    return this.mouse_input_module.middle_mouse_button_pressed;\r\n  }\r\n\r\n  get middle_mouse_button_down()\r\n  {\r\n    return this.mouse_input_module.middle_mouse_button_down;\r\n  }\r\n\r\n  get middle_mouse_button_released()\r\n  {\r\n    return this.mouse_input_module.middle_mouse_button_released;\r\n  }\r\n\r\n  check_for_legal_bounds()\r\n  {\r\n    if(this.region_bounds.width === 0 || this.region_bounds.height === 0)\r\n    {\r\n      console.error(\"Cannot get normalized mouse position for target element due to the element having 0 width or height\", this.dom_element, this.region_bounds)\r\n    }\r\n  }\r\n\r\n  transform_pos_to_subregion(pos)\r\n  {\r\n    return {\r\n      x: pos.x - this.region_bounds.x,\r\n      y: this.region_bounds.height - (pos.y - this.region_bounds.y )\r\n    };\r\n  }\r\n  transform_pos_to_NDC(pos)\r\n  {\r\n    this.check_for_legal_bounds();\r\n\r\n    return {\r\n      x: (pos.x / this.region_bounds.width) * 2 - 1,\r\n      y: (pos.y / this.region_bounds.height) * 2 - 1\r\n    };\r\n  }\r\n\r\n  get scroll_delta()\r\n  {\r\n    return this.active_input_module.scroll_delta;\r\n  }\r\n\r\n  get pointer_count()\r\n  {\r\n    return this.active_input_module.pointer_count;\r\n  }\r\n\r\n  get pointer_is_within_bounds()\r\n  {\r\n    let ndc = this.NDC;\r\n    return  ndc.x >= -1 && ndc.x <= 1 &&\r\n            ndc.y >= -1 && ndc.y <= 1\r\n  }\r\n\r\n  pointer_is_over_element(elem) {\r\n\r\n    let rect = elem.getBoundingClientRect();\r\n    let pos = this.html_pointer_pos;\r\n\r\n    return  pos.x > rect.left &&\r\n            pos.x < rect.left + rect.width &&\r\n            pos.y > rect.top &&\r\n            pos.y < rect.top + rect.height;\r\n }\r\n\r\n  get pointer_pos()\r\n  {\r\n    return this.transform_pos_to_subregion(this.active_input_module.pointer_pos);\r\n  }\r\n\r\n  get html_pointer_pos()\r\n  {\r\n    return {\r\n      x: this.active_input_module.pointer_pos.x,\r\n      y: this.active_input_module.pointer_pos.y\r\n    }\r\n  }\r\n\r\n  get pointer_pos_delta()\r\n  {\r\n    let pos_delta = this.active_input_module.pointer_pos_delta;\r\n    return {\r\n      x: pos_delta.x,\r\n      y: pos_delta.y * -1\r\n    };\r\n  }\r\n\r\n  get NDC()\r\n  {\r\n    return this.transform_pos_to_NDC(this.pointer_pos);\r\n  }\r\n\r\n  get NDC_delta()\r\n  {\r\n    this.check_for_legal_bounds();\r\n    return {\r\n      x: this.pointer_pos_delta.x / this.region_bounds.width,\r\n      y: this.pointer_pos_delta.y / this.region_bounds.height\r\n    }\r\n  }\r\n\r\n  get pointer_center(){\r\n    return this.transform_pos_to_subregion(this.active_input_module.pointer_center);\r\n  }\r\n\r\n  get pointer_center_delta(){\r\n    let center_delta = this.active_input_module.pointer_center_delta;\r\n    return {\r\n      x: center_delta.x,\r\n      y: center_delta.y * -1\r\n    };\r\n  }\r\n\r\n  get pointer_center_NDC(){\r\n    return this.transform_pos_to_NDC(this.pointer_center);\r\n  }\r\n\r\n  get pointer_center_NDC_delta(){\r\n    this.check_for_legal_bounds();\r\n\r\n    let center_delta = this.pointer_center_delta;\r\n    return {\r\n      x: center_delta.x / this.region_bounds.width,\r\n      y: center_delta.y / this.region_bounds.height\r\n    }\r\n  }\r\n\r\n  dispose()\r\n  {\r\n    this.unbind_events();\r\n  }\r\n}\r\n"],"names":["MathUtilities","[object Object]","value","min","max","Math","n","Number","constructor","this","operating_systems","ANDROID","IOS","LINUX","MAC","WINDOWS","get_os","userAgent","window","navigator","platform","os","indexOf","test","is_android","is_ios","match","is_ipad","is_mobile","is_linux","is_mac","is_windows","MouseInputModule","left_mouse_button_pressed","left_mouse_button_down","left_mouse_button_released","right_mouse_button_pressed","right_mouse_button_down","right_mouse_button_released","middle_mouse_button_pressed","middle_mouse_button_down","middle_mouse_button_released","pointer_pos","x","y","previous_pointer_pos","scroll_delta","pointer_count","pointer_down","event","clientX","clientY","button","pointer_up","pointer_move","pointer_cancel","pointer_out","scroll","$c60ca813c7f44e4f613362848eb5ec79$export$default","ctrlKey","$05cfa7469314bb66e3934c14706ec818$export$default","is_int","deltaY","clamp","abs","clear","update_previous_pointer_pos","pointer_pos_delta","pointer_center","pointer_center_delta","TouchInputModule","pointers","previous_separation_distance","undefined","p","find","is_primary","previous_x","previous_y","length","i","previous_pointer_center","current_center","prev_center","update_pointer_separation","x0","y0","x1","y1","distance","sqrt","pow","sensitivity","update_pointer","pointer_id","id","push","remove_pointer","index","findIndex","splice","scale","preventDefault","touches","changedTouches","touch","identifier","InputController","init","dom_element","sub_region_element","mouse_input_module","$5b4313c4c6a5e19d54d79ed8aa405126$export$default","touch_input_module","$6adbad5e9ee1564e309b29d0d0334df2$export$default","active_input_module","region_bounds","width","height","update_region_bounds","touch_cooldown","Date","bind_events","__binded_on_wheel","on_wheel","bind","addEventListener","__binded_on_touchstart","on_touchstart","passive","__binded_on_touchmove","on_touchmove","__binded_on_touchcancel","on_touchcancel","__binded_on_touchend","on_touchend","__binded_on_mousedown","on_mousedown","__binded_on_mousemove","on_mousemove","__binded_on_mouseup","on_mouseup","__binded_on_mouseleave","on_mouseleave","unbind_events","removeEventListener","set_mouse_input_active","set_touch_input_active","mouse_input_allowed","getBoundingClientRect","left","top","check_for_legal_bounds","console","error","transform_pos_to_subregion","pos","transform_pos_to_NDC","pointer_is_within_bounds","ndc","NDC","pointer_is_over_element","elem","rect","html_pointer_pos","pos_delta","NDC_delta","center_delta","pointer_center_NDC","pointer_center_NDC_delta","dispose"],"version":3,"file":"PIT.js.map"}