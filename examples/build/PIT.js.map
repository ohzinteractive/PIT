{"version":3,"file":"PIT.js","sources":["../../src/utilities/MathUtilities.js","../../src/utilities/OS.js","../../src/MouseInputModule.js","../../src/TouchInputModule.js","../../src/InputController.js"],"sourcesContent":["export default class MathUtilities\n{\n  static clamp(value, min, max)\n  {\n    return Math.max(min, Math.min(max, value));\n  }\n\n  static is_int(n)\n  {\n    return Number(n) === n && n % 1 === 0;\n  }\n}\n","export class OS\n{\n  constructor()\n  {\n    this.operating_systems = {\n      ANDROID: 'android',\n      IOS: 'ios',\n      LINUX: 'linux',\n      MAC: 'mac',\n      WINDOWS: 'windows'\n    };\n  }\n\n  get_os()\n  {\n    let userAgent = window.navigator.userAgent;\n    let platform = window.navigator.platform;\n    let macosPlatforms = ['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'];\n    let windowsPlatforms = ['Win32', 'Win64', 'Windows', 'WinCE'];\n    let iosPlatforms = ['iPhone', 'iPad', 'iPod'];\n    let os = null;\n\n    if (macosPlatforms.indexOf(platform) !== -1)\n    {\n      os = this.operating_systems.MAC;\n    }\n    else if (iosPlatforms.indexOf(platform) !== -1)\n    {\n      os = this.operating_systems.IOS;\n    }\n    else if (windowsPlatforms.indexOf(platform) !== -1)\n    {\n      os = this.operating_systems.WINDOWS;\n    }\n    else if (/Android/.test(userAgent))\n    {\n      os = this.operating_systems.ANDROID;\n    }\n    else if (!os && /Linux/.test(platform))\n    {\n      os = this.operating_systems.LINUX;\n    }\n\n    return os;\n  }\n\n  get is_android()\n  {\n    return this.get_os() === this.operating_systems.ANDROID;\n  }\n\n  get is_ios()\n  {\n    return navigator.userAgent.match(/(iPhone|iPod|iPad)/);\n  }\n\n  get is_ipad()\n  {\n    return navigator.userAgent.match(/(iPad)/);\n  }\n\n  get is_mobile()\n  {\n    return !!(navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/));\n  }\n\n  get is_linux()\n  {\n    return this.get_os() === this.operating_systems.LINUX;\n  }\n\n  get is_mac()\n  {\n    return this.get_os() === this.operating_systems.MAC;\n  }\n\n  get is_windows()\n  {\n    return this.get_os() === this.operating_systems.WINDOWS;\n  }\n}\n\nexport default new OS();\n","import MathUtilities from './utilities/MathUtilities';\nimport OS from './utilities/OS';\nexport default class MouseInputModule\n{\n  constructor()\n  {\n    this.left_mouse_button_pressed  = false;\n    this.left_mouse_button_down     = false;\n    this.left_mouse_button_released = false;\n\n    this.right_mouse_button_pressed  = false;\n    this.right_mouse_button_down     = false;\n    this.right_mouse_button_released = false;\n\n    this.middle_mouse_button_pressed  = false;\n    this.middle_mouse_button_down     = false;\n    this.middle_mouse_button_released = false;\n\n    this.pointer_pos = { x: 0, y: 0 };\n    this.previous_pointer_pos = { x: 0, y: 0 };\n\n    this.scroll_delta = 0;\n  }\n\n  get pointer_count()\n  {\n    if (this.left_mouse_button_down  ||\n       this.right_mouse_button_down ||\n       this.middle_mouse_button_down)\n    {\n      return 1;\n    }\n    else\n    {\n      return 0;\n    }\n  }\n\n  pointer_down(event)\n  {\n    this.pointer_pos.x = event.clientX;\n    this.pointer_pos.y = event.clientY;\n\n    this.previous_pointer_pos.x = event.clientX;\n    this.previous_pointer_pos.y = event.clientY;\n\n    switch (event.button)\n    {\n    case 0:\n      this.left_mouse_button_pressed = true;\n      this.left_mouse_button_down    = true;\n      break;\n    case 1:\n      this.middle_mouse_button_pressed = true;\n      this.middle_mouse_button_down    = true;\n      break;\n    case 2:\n      this.right_mouse_button_pressed = true;\n      this.right_mouse_button_down    = true;\n      break;\n    }\n  }\n\n  pointer_up(event)\n  {\n    switch (event.button)\n    {\n    case 0:\n      this.left_mouse_button_released = true;\n      this.left_mouse_button_down     = false;\n      break;\n    case 1:\n      this.middle_mouse_button_released = true;\n      this.middle_mouse_button_down     = false;\n      break;\n    case 2:\n      this.right_mouse_button_released = true;\n      this.right_mouse_button_down     = false;\n      break;\n    }\n  }\n\n  pointer_move(event)\n  {\n    this.pointer_pos.x = event.clientX;\n    this.pointer_pos.y = event.clientY;\n  }\n\n  pointer_cancel(event)\n  {\n    this.pointer_out(event);\n  }\n\n  pointer_out(event)\n  {\n    if (this.left_mouse_button_down)\n    {\n      this.left_mouse_button_down     = false;\n      this.left_mouse_button_released = true;\n    }\n    if (this.middle_mouse_button_down)\n    {\n      this.middle_mouse_button_down     = false;\n      this.middle_mouse_button_released = true;\n    }\n    if (this.right_mouse_button_down)\n    {\n      this.right_mouse_button_down     = false;\n      this.right_mouse_button_released = true;\n    }\n  }\n\n  scroll(event)\n  {\n    this.pointer_pos.x = event.clientX;\n    this.pointer_pos.y = event.clientY;\n\n    if (OS.is_mac)\n    {\n      // User is pinching\n      if (event.ctrlKey)\n      {\n        // Negative values means pinch in.\n        // Positive values means pinch out.\n        // console.log('Pinching with a touchpad', event.deltaY);\n        // User is scrolling\n      }\n      else\n      {\n        // User is using the touchpad\n        if (MathUtilities.is_int(event.deltaY))\n        {\n          // Negative values means scroll up\n          // Positive values means scroll down\n          // console.log(\"Scrolling with a touchpad\", (event.deltaY))\n          // 350 is aprox the maximum value of deltaY on touchpad scroll\n          this.scroll_delta = MathUtilities.clamp(event.deltaY / 350, -1, 1) * -1;\n        }\n        else\n        {\n          // Negative values means scroll up\n          // Positive values means scroll down\n          // console.log(\"Scrolling with a mouse\", event.deltaY)\n          this.scroll_delta = event.deltaY / Math.abs(event.deltaY);\n        }\n      }\n    }\n    else\n    {\n      // probably windows\n      if (Math.abs(event.deltaY) < 0.0001)\n      {\n        this.scroll_delta = 0;\n      }\n      else\n      {\n        this.scroll_delta = event.deltaY / Math.abs(event.deltaY);\n      }\n    }\n  }\n\n  clear()\n  {\n    this.left_mouse_button_pressed  = false;\n    this.left_mouse_button_released = false;\n\n    this.right_mouse_button_pressed  = false;\n    this.right_mouse_button_released = false;\n\n    this.middle_mouse_button_pressed  = false;\n    this.middle_mouse_button_released = false;\n\n    this.scroll_delta = 0;\n\n    this.update_previous_pointer_pos();\n  }\n\n  get pointer_pos_delta()\n  {\n    return {\n      x: this.pointer_pos.x - this.previous_pointer_pos.x,\n      y: this.pointer_pos.y - this.previous_pointer_pos.y\n    };\n  }\n\n  get pointer_center()\n  {\n    return this.pointer_pos;\n  }\n\n  get pointer_center_delta()\n  {\n    return this.pointer_pos_delta;\n  }\n\n  update_previous_pointer_pos()\n  {\n    this.previous_pointer_pos.x = this.pointer_pos.x;\n    this.previous_pointer_pos.y = this.pointer_pos.y;\n  }\n}\n","export default class TouchInputModule\n{\n  constructor()\n  {\n    this.left_mouse_button_pressed  = false;\n    this.left_mouse_button_down     = false;\n    this.left_mouse_button_released = false;\n\n    this.pointers = [];\n\n    this.previous_separation_distance = undefined;\n    this.scroll_delta = 0;\n  }\n\n  get pointer_pos()\n  {\n    let x = 0;\n    let y = 0;\n\n    const p = this.pointers.find(p => p.is_primary);\n\n    if (p)\n    {\n      x = p.x;\n      y = p.y;\n    }\n\n    return {\n      x: x,\n      y: y\n    };\n  }\n\n  get pointer_pos_delta()\n  {\n    let x = 0;\n    let y = 0;\n\n    const p = this.pointers.find(p => p.is_primary);\n\n    if (p)\n    {\n      x = p.x - p.previous_x;\n      y = p.y - p.previous_y;\n    }\n    return {\n      x: x,\n      y: y\n    };\n  }\n\n  get pointer_count()\n  {\n    return this.pointers.length;\n  }\n\n  get pointer_center()\n  {\n    let x = 0;\n    let y = 0;\n\n    for (let i = 0; i < this.pointers.length; i++)\n    {\n      x += this.pointers[i].x;\n      y += this.pointers[i].y;\n    }\n\n    x /= Math.max(1, this.pointers.length);\n    y /= Math.max(1, this.pointers.length);\n\n    return {\n      x: x,\n      y: y\n    };\n  }\n\n  get previous_pointer_center()\n  {\n    let x = 0;\n    let y = 0;\n\n    for (let i = 0; i < this.pointers.length; i++)\n    {\n      x += this.pointers[i].previous_x;\n      y += this.pointers[i].previous_y;\n    }\n\n    x /= Math.max(1, this.pointers.length);\n    y /= Math.max(1, this.pointers.length);\n\n    return {\n      x: x,\n      y: y\n    };\n  }\n\n  get pointer_center_delta()\n  {\n    const current_center = this.pointer_center;\n    const prev_center = this.previous_pointer_center;\n\n    return {\n      x: current_center.x - prev_center.x,\n      y: current_center.y - prev_center.y\n    };\n  }\n\n  update_pointer_separation()\n  {\n    if (this.pointers.length === 2)\n    {\n      const x0 = this.pointers[0].x;\n      const y0 = this.pointers[0].y;\n\n      const x1 = this.pointers[1].x;\n      const y1 = this.pointers[1].y;\n\n      const distance = Math.sqrt(Math.pow(x0 - x1, 2) + Math.pow(y0 - y1, 2));\n\n      if (this.previous_separation_distance === undefined)\n      {\n        this.previous_separation_distance = distance;\n      }\n\n      const sensitivity = 0.15;\n      this.scroll_delta = -(distance - this.previous_separation_distance) * sensitivity;\n      this.previous_separation_distance = distance;\n    }\n    else\n    {\n      this.previous_separation_distance = undefined;\n      this.scroll_delta = 0;\n    }\n  }\n\n  update_pointer(pointer_id, x, y)\n  {\n    let p = this.pointers.find(p => p.id === pointer_id);\n\n    if (p === undefined)\n    {\n      p = {\n        id: pointer_id,\n        x: x,\n        y: y,\n        previous_x: x,\n        previous_y: y,\n        is_primary: this.pointers.length === 0\n      };\n\n      this.pointers.push(p);\n    }\n\n    p.previous_x = p.x;\n    p.previous_y = p.y;\n\n    p.x = x;\n    p.y = y;\n\n    this.update_pointer_separation();\n\n    return p;\n  }\n\n  remove_pointer(pointer_id)\n  {\n    const index = this.pointers.findIndex(p => p.id === pointer_id);\n\n    if (index !== undefined)\n    {\n      this.pointers.splice(index, 1);\n    }\n    this.update_pointer_separation();\n  }\n\n  pointer_down(event)\n  {\n    const touches = event.changedTouches;\n\n    for (let i = 0; i < touches.length; i++)\n    {\n      const touch = touches[i];\n      const p = this.update_pointer(touch.identifier, touch.clientX, touch.clientY);\n\n      if (p.is_primary)\n      {\n        this.left_mouse_button_pressed = true;\n        this.left_mouse_button_down    = true;\n      }\n    }\n  }\n\n  pointer_up(event)\n  {\n    const touches = event.changedTouches;\n\n    for (let i = 0; i < touches.length; i++)\n    {\n      const touch = touches[i];\n      const p = this.update_pointer(touch.identifier, touch.clientX, touch.clientY);\n\n      if (p.is_primary)\n      {\n        this.left_mouse_button_released = true;\n        this.left_mouse_button_down     = false;\n      }\n      this.remove_pointer(p.id);\n    }\n  }\n\n  pointer_move(event)\n  {\n    const touches = event.changedTouches;\n\n    for (let i = 0; i < touches.length; i++)\n    {\n      const touch = touches[i];\n      this.update_pointer(touch.identifier, touch.clientX, touch.clientY);\n    }\n  }\n\n  pointer_cancel(event)\n  {\n    this.pointer_out(event);\n  }\n\n  pointer_out(event)\n  {\n    const touches = event.changedTouches;\n\n    for (let i = 0; i < touches.length; i++)\n    {\n      const touch = touches[i];\n      const p = this.update_pointer(touch.identifier, touch.clientX, touch.clientY);\n\n      if (this.left_mouse_button_down && p.is_primary)\n      {\n        this.left_mouse_button_down     = false;\n        this.left_mouse_button_released = true;\n      }\n\n      this.remove_pointer(p.id);\n    }\n  }\n\n  clear()\n  {\n    this.left_mouse_button_pressed  = false;\n    this.left_mouse_button_released = false;\n    this.scroll_delta = 0;\n\n    for (let i = 0; i < this.pointers.length; i++)\n    {\n      const p = this.pointers[i];\n\n      p.previous_x = p.x;\n      p.previous_y = p.y;\n    }\n  }\n}\n","import MouseInputModule from './MouseInputModule';\nimport TouchInputModule from './TouchInputModule';\n\nexport default class InputController\n{\n  init(dom_element, sub_region_element)\n  {\n    this.dom_element = dom_element;\n    this.sub_region_element = sub_region_element === undefined ? dom_element : sub_region_element;\n    this.mouse_input_module = new MouseInputModule();\n    this.touch_input_module = new TouchInputModule();\n\n    this.active_input_module = this.mouse_input_module;\n\n    this.region_bounds = {\n      x: 0,\n      y: 0,\n      width: 1,\n      height: 1\n    };\n\n    this.update_region_bounds();\n\n    this.touch_cooldown = new Date() - 1000;\n\n    this.bind_events();\n  }\n\n  bind_events()\n  {\n    this.__binded_on_wheel = this.on_wheel.bind(this);\n    this.dom_element.addEventListener('wheel', this.__binded_on_wheel, { passive: true });\n\n    this.__binded_on_touchstart = this.on_touchstart.bind(this);\n    this.dom_element.addEventListener('touchstart', this.__binded_on_touchstart, { passive: true });\n    this.__binded_on_touchmove = this.on_touchmove.bind(this);\n    this.dom_element.addEventListener('touchmove', this.__binded_on_touchmove, { passive: true });\n    this.__binded_on_touchcancel = this.on_touchcancel.bind(this);\n    this.dom_element.addEventListener('touchcancel', this.__binded_on_touchcancel, { passive: true });\n    this.__binded_on_touchend = this.on_touchend.bind(this);\n    this.dom_element.addEventListener('touchend', this.__binded_on_touchend, { passive: true });\n\n    this.__binded_on_mousedown = this.on_mousedown.bind(this);\n    this.dom_element.addEventListener('mousedown', this.__binded_on_mousedown, false);\n    this.__binded_on_mousemove = this.on_mousemove.bind(this);\n    this.dom_element.addEventListener('mousemove', this.__binded_on_mousemove, false);\n    this.__binded_on_mouseup = this.on_mouseup.bind(this);\n    this.dom_element.addEventListener('mouseup', this.__binded_on_mouseup, false);\n    this.__binded_on_mouseleave = this.on_mouseleave.bind(this);\n    this.dom_element.addEventListener('mouseleave', this.__binded_on_mouseleave, false);\n  }\n\n  unbind_events()\n  {\n    this.dom_element.removeEventListener('wheel', this.__binded_on_wheel, { passive: true });\n\n    this.dom_element.removeEventListener('touchstart', this.__binded_on_touchstart, { passive: true });\n    this.dom_element.removeEventListener('touchmove', this.__binded_on_touchmove, { passive: true });\n    this.dom_element.removeEventListener('touchcancel', this.__binded_on_touchcancel, { passive: true });\n    this.dom_element.removeEventListener('touchend', this.__binded_on_touchend, { passive: true });\n\n    this.dom_element.removeEventListener('mousedown', this.__binded_on_mousedown, false);\n    this.dom_element.removeEventListener('mousemove', this.__binded_on_mousemove, false);\n    this.dom_element.removeEventListener('mouseup', this.__binded_on_mouseup, false);\n    this.dom_element.removeEventListener('mouseleave', this.__binded_on_mouseleave, false);\n  }\n\n  on_wheel(event)\n  {\n    this.mouse_input_module.scroll(event);\n    this.set_mouse_input_active();\n  }\n\n  on_touchstart(event)\n  {\n    this.touch_input_module.pointer_down(event);\n    this.set_touch_input_active();\n  }\n\n  on_touchmove(event)\n  {\n    this.touch_input_module.pointer_move(event);\n    this.set_touch_input_active();\n  }\n\n  on_touchcancel(event)\n  {\n    this.touch_input_module.pointer_cancel(event);\n    this.set_touch_input_active();\n  }\n\n  on_touchend(event)\n  {\n    this.touch_input_module.pointer_up(event);\n    this.set_touch_input_active();\n  }\n\n  on_mousedown(event)\n  {\n    if (this.mouse_input_allowed())\n    {\n      this.mouse_input_module.pointer_down(event);\n      this.set_mouse_input_active();\n    }\n  }\n\n  on_mousemove(event)\n  {\n    if (this.mouse_input_allowed())\n    {\n      this.mouse_input_module.pointer_move(event);\n      this.set_mouse_input_active();\n    }\n  }\n\n  on_mouseup(event)\n  {\n    if (this.mouse_input_allowed())\n    {\n      this.mouse_input_module.pointer_up(event);\n      this.set_mouse_input_active();\n    }\n  }\n\n  on_mouseleave(event)\n  {\n    this.mouse_input_module.pointer_out(event);\n    this.set_mouse_input_active();\n  }\n\n  clear()\n  {\n    this.touch_input_module.clear();\n    this.mouse_input_module.clear();\n    this.update_region_bounds();\n  }\n\n  update_region_bounds()\n  {\n    const region_bounds = this.sub_region_element.getBoundingClientRect();\n\n    this.region_bounds.x = region_bounds.left;\n    this.region_bounds.y = region_bounds.top;\n    this.region_bounds.width = region_bounds.width;\n    this.region_bounds.height = region_bounds.height;\n  }\n\n  mouse_input_allowed()\n  {\n    return (new Date() - this.touch_cooldown) / 1000 > 0.75;\n  }\n\n  set_mouse_input_active()\n  {\n    this.active_input_module = this.mouse_input_module;\n  }\n\n  set_touch_input_active()\n  {\n    this.active_input_module = this.touch_input_module;\n    this.touch_cooldown = new Date();\n  }\n\n  get left_mouse_button_pressed()\n  {\n    return this.active_input_module.left_mouse_button_pressed;\n  }\n\n  get left_mouse_button_down()\n  {\n    return this.active_input_module.left_mouse_button_down;\n  }\n\n  get left_mouse_button_released()\n  {\n    return this.active_input_module.left_mouse_button_released;\n  }\n\n  get right_mouse_button_pressed()\n  {\n    return this.mouse_input_module.right_mouse_button_pressed;\n  }\n\n  get right_mouse_button_down()\n  {\n    return this.mouse_input_module.right_mouse_button_down;\n  }\n\n  get right_mouse_button_released()\n  {\n    return this.mouse_input_module.right_mouse_button_released;\n  }\n\n  get middle_mouse_button_pressed()\n  {\n    return this.mouse_input_module.middle_mouse_button_pressed;\n  }\n\n  get middle_mouse_button_down()\n  {\n    return this.mouse_input_module.middle_mouse_button_down;\n  }\n\n  get middle_mouse_button_released()\n  {\n    return this.mouse_input_module.middle_mouse_button_released;\n  }\n\n  check_for_legal_bounds()\n  {\n    if (this.region_bounds.width === 0 || this.region_bounds.height === 0)\n    {\n      console.error('Cannot get normalized mouse position for target element due to the element having 0 width or height', this.dom_element, this.region_bounds);\n    }\n  }\n\n  transform_pos_to_subregion(pos)\n  {\n    return {\n      x: pos.x - this.region_bounds.x,\n      y: this.region_bounds.height - (pos.y - this.region_bounds.y)\n    };\n  }\n\n  transform_pos_to_NDC(pos)\n  {\n    this.check_for_legal_bounds();\n\n    return {\n      x: (pos.x / this.region_bounds.width) * 2 - 1,\n      y: (pos.y / this.region_bounds.height) * 2 - 1\n    };\n  }\n\n  get scroll_delta()\n  {\n    return this.active_input_module.scroll_delta;\n  }\n\n  get pointer_count()\n  {\n    return this.active_input_module.pointer_count;\n  }\n\n  get pointer_is_within_bounds()\n  {\n    const ndc = this.NDC;\n\n    return  ndc.x >= -1 && ndc.x <= 1 &&\n            ndc.y >= -1 && ndc.y <= 1;\n  }\n\n  pointer_is_over_element(elem)\n  {\n    const rect = elem.getBoundingClientRect();\n    const pos = this.html_pointer_pos;\n\n    return  pos.x > rect.left &&\n            pos.x < rect.left + rect.width &&\n            pos.y > rect.top &&\n            pos.y < rect.top + rect.height;\n  }\n\n  get pointer_pos()\n  {\n    return this.transform_pos_to_subregion(this.active_input_module.pointer_pos);\n  }\n\n  get html_pointer_pos()\n  {\n    return {\n      x: this.active_input_module.pointer_pos.x,\n      y: this.active_input_module.pointer_pos.y\n    };\n  }\n\n  get pointer_pos_delta()\n  {\n    const pos_delta = this.active_input_module.pointer_pos_delta;\n\n    return {\n      x: pos_delta.x,\n      y: pos_delta.y * -1\n    };\n  }\n\n  get NDC()\n  {\n    return this.transform_pos_to_NDC(this.pointer_pos);\n  }\n\n  get NDC_delta()\n  {\n    this.check_for_legal_bounds();\n    return {\n      x: this.pointer_pos_delta.x / this.region_bounds.width,\n      y: this.pointer_pos_delta.y / this.region_bounds.height\n    };\n  }\n\n  get pointer_center()\n  {\n    return this.transform_pos_to_subregion(this.active_input_module.pointer_center);\n  }\n\n  get pointer_center_delta()\n  {\n    const center_delta = this.active_input_module.pointer_center_delta;\n\n    return {\n      x: center_delta.x,\n      y: center_delta.y * -1\n    };\n  }\n\n  get pointer_center_NDC()\n  {\n    return this.transform_pos_to_NDC(this.pointer_center);\n  }\n\n  get pointer_center_NDC_delta()\n  {\n    this.check_for_legal_bounds();\n\n    const center_delta = this.pointer_center_delta;\n\n    return {\n      x: center_delta.x / this.region_bounds.width,\n      y: center_delta.y / this.region_bounds.height\n    };\n  }\n\n  dispose()\n  {\n    this.unbind_events();\n  }\n}\n"],"names":["MathUtilities","static","value","min","max","Math","n","Number","constructor","this","operating_systems","ANDROID","IOS","LINUX","MAC","WINDOWS","get_os","userAgent","window","navigator","platform","os","indexOf","test","is_android","is_ios","match","is_ipad","is_mobile","is_linux","is_mac","is_windows","MouseInputModule","left_mouse_button_pressed","left_mouse_button_down","left_mouse_button_released","right_mouse_button_pressed","right_mouse_button_down","right_mouse_button_released","middle_mouse_button_pressed","middle_mouse_button_down","middle_mouse_button_released","pointer_pos","x","y","previous_pointer_pos","scroll_delta","pointer_count","pointer_down","event","clientX","clientY","button","pointer_up","pointer_move","pointer_cancel","pointer_out","scroll","OS","ctrlKey","is_int","deltaY","clamp","abs","clear","update_previous_pointer_pos","pointer_pos_delta","pointer_center","pointer_center_delta","TouchInputModule","pointers","previous_separation_distance","undefined","p","find","is_primary","previous_x","previous_y","length","i","previous_pointer_center","current_center","prev_center","update_pointer_separation","x0","y0","x1","y1","distance","sqrt","pow","sensitivity","update_pointer","pointer_id","id","push","remove_pointer","index","findIndex","splice","touches","changedTouches","touch","identifier","InputController","init","dom_element","sub_region_element","mouse_input_module","touch_input_module","active_input_module","region_bounds","width","height","update_region_bounds","touch_cooldown","Date","bind_events","__binded_on_wheel","on_wheel","bind","addEventListener","passive","__binded_on_touchstart","on_touchstart","__binded_on_touchmove","on_touchmove","__binded_on_touchcancel","on_touchcancel","__binded_on_touchend","on_touchend","__binded_on_mousedown","on_mousedown","__binded_on_mousemove","on_mousemove","__binded_on_mouseup","on_mouseup","__binded_on_mouseleave","on_mouseleave","unbind_events","removeEventListener","set_mouse_input_active","set_touch_input_active","mouse_input_allowed","getBoundingClientRect","left","top","check_for_legal_bounds","console","error","transform_pos_to_subregion","pos","transform_pos_to_NDC","pointer_is_within_bounds","ndc","NDC","pointer_is_over_element","elem","rect","html_pointer_pos","pos_delta","NDC_delta","center_delta","pointer_center_NDC","pointer_center_NDC_delta","dispose"],"mappings":"AAAe,MAAMA,EAEnBC,aAAaC,EAAOC,EAAKC,GAEvB,OAAOC,KAAKD,IAAID,EAAKE,KAAKF,IAAIC,EAAKF,IAGrCD,cAAcK,GAEZ,OAAOC,OAAOD,KAAOA,GAAKA,EAAI,GAAM,GCyExC,MAAe,IAlFR,MAELE,cAEEC,KAAKC,kBAAoB,CACvBC,QAAS,UACTC,IAAK,MACLC,MAAO,QACPC,IAAK,MACLC,QAAS,WAIbC,SAEE,IAAIC,EAAYC,OAAOC,UAAUF,UAC7BG,EAAWF,OAAOC,UAAUC,SAI5BC,EAAK,KAuBT,OArB0C,IALrB,CAAC,YAAa,WAAY,SAAU,UAKtCC,QAAQF,GAEzBC,EAAKZ,KAAKC,kBAAkBI,KAEe,IAP1B,CAAC,SAAU,OAAQ,QAOhBQ,QAAQF,GAE5BC,EAAKZ,KAAKC,kBAAkBE,KAEmB,IAZ1B,CAAC,QAAS,QAAS,UAAW,SAY3BU,QAAQF,GAEhCC,EAAKZ,KAAKC,kBAAkBK,QAErB,UAAUQ,KAAKN,GAEtBI,EAAKZ,KAAKC,kBAAkBC,SAEpBU,GAAM,QAAQE,KAAKH,KAE3BC,EAAKZ,KAAKC,kBAAkBG,OAGvBQ,EAGLG,iBAEF,OAAOf,KAAKO,WAAaP,KAAKC,kBAAkBC,QAG9Cc,aAEF,OAAON,UAAUF,UAAUS,MAAM,sBAG/BC,cAEF,OAAOR,UAAUF,UAAUS,MAAM,UAG/BE,gBAEF,QAAUT,UAAUF,UAAUS,MAAM,+GAGlCG,eAEF,OAAOpB,KAAKO,WAAaP,KAAKC,kBAAkBG,MAG9CiB,aAEF,OAAOrB,KAAKO,WAAaP,KAAKC,kBAAkBI,IAG9CiB,iBAEF,OAAOtB,KAAKO,WAAaP,KAAKC,kBAAkBK,UC5ErC,MAAMiB,EAEnBxB,cAEEC,KAAKwB,2BAA6B,EAClCxB,KAAKyB,wBAA6B,EAClCzB,KAAK0B,4BAA6B,EAElC1B,KAAK2B,4BAA8B,EACnC3B,KAAK4B,yBAA8B,EACnC5B,KAAK6B,6BAA8B,EAEnC7B,KAAK8B,6BAA+B,EACpC9B,KAAK+B,0BAA+B,EACpC/B,KAAKgC,8BAA+B,EAEpChC,KAAKiC,YAAc,CAAEC,EAAG,EAAGC,EAAG,GAC9BnC,KAAKoC,qBAAuB,CAAEF,EAAG,EAAGC,EAAG,GAEvCnC,KAAKqC,aAAe,EAGlBC,oBAEF,OAAItC,KAAKyB,wBACNzB,KAAK4B,yBACL5B,KAAK+B,yBAEC,EAIA,EAIXQ,aAAaC,GAQX,OANAxC,KAAKiC,YAAYC,EAAIM,EAAMC,QAC3BzC,KAAKiC,YAAYE,EAAIK,EAAME,QAE3B1C,KAAKoC,qBAAqBF,EAAIM,EAAMC,QACpCzC,KAAKoC,qBAAqBD,EAAIK,EAAME,QAE5BF,EAAMG,QAEd,KAAK,EACH3C,KAAKwB,2BAA4B,EACjCxB,KAAKyB,wBAA4B,EACjC,MACF,KAAK,EACHzB,KAAK8B,6BAA8B,EACnC9B,KAAK+B,0BAA8B,EACnC,MACF,KAAK,EACH/B,KAAK2B,4BAA6B,EAClC3B,KAAK4B,yBAA6B,GAKtCgB,WAAWJ,GAET,OAAQA,EAAMG,QAEd,KAAK,EACH3C,KAAK0B,4BAA6B,EAClC1B,KAAKyB,wBAA6B,EAClC,MACF,KAAK,EACHzB,KAAKgC,8BAA+B,EACpChC,KAAK+B,0BAA+B,EACpC,MACF,KAAK,EACH/B,KAAK6B,6BAA8B,EACnC7B,KAAK4B,yBAA8B,GAKvCiB,aAAaL,GAEXxC,KAAKiC,YAAYC,EAAIM,EAAMC,QAC3BzC,KAAKiC,YAAYE,EAAIK,EAAME,QAG7BI,eAAeN,GAEbxC,KAAK+C,YAAYP,GAGnBO,YAAYP,GAENxC,KAAKyB,yBAEPzB,KAAKyB,wBAA6B,EAClCzB,KAAK0B,4BAA6B,GAEhC1B,KAAK+B,2BAEP/B,KAAK+B,0BAA+B,EACpC/B,KAAKgC,8BAA+B,GAElChC,KAAK4B,0BAEP5B,KAAK4B,yBAA8B,EACnC5B,KAAK6B,6BAA8B,GAIvCmB,OAAOR,GAELxC,KAAKiC,YAAYC,EAAIM,EAAMC,QAC3BzC,KAAKiC,YAAYE,EAAIK,EAAME,QAEvBO,EAAG5B,OAGDmB,EAAMU,UAUJ3D,EAAc4D,OAAOX,EAAMY,QAM7BpD,KAAKqC,cAAiE,EAAlD9C,EAAc8D,MAAMb,EAAMY,OAAS,KAAM,EAAG,GAOhEpD,KAAKqC,aAAeG,EAAMY,OAASxD,KAAK0D,IAAId,EAAMY,SAOlDxD,KAAK0D,IAAId,EAAMY,QAAU,KAE3BpD,KAAKqC,aAAe,EAIpBrC,KAAKqC,aAAeG,EAAMY,OAASxD,KAAK0D,IAAId,EAAMY,QAKxDG,QAEEvD,KAAKwB,2BAA6B,EAClCxB,KAAK0B,4BAA6B,EAElC1B,KAAK2B,4BAA8B,EACnC3B,KAAK6B,6BAA8B,EAEnC7B,KAAK8B,6BAA+B,EACpC9B,KAAKgC,8BAA+B,EAEpChC,KAAKqC,aAAe,EAEpBrC,KAAKwD,8BAGHC,wBAEF,MAAO,CACLvB,EAAGlC,KAAKiC,YAAYC,EAAIlC,KAAKoC,qBAAqBF,EAClDC,EAAGnC,KAAKiC,YAAYE,EAAInC,KAAKoC,qBAAqBD,GAIlDuB,qBAEF,OAAO1D,KAAKiC,YAGV0B,2BAEF,OAAO3D,KAAKyD,kBAGdD,8BAEExD,KAAKoC,qBAAqBF,EAAIlC,KAAKiC,YAAYC,EAC/ClC,KAAKoC,qBAAqBD,EAAInC,KAAKiC,YAAYE,GCtMpC,MAAMyB,EAEnB7D,cAEEC,KAAKwB,2BAA6B,EAClCxB,KAAKyB,wBAA6B,EAClCzB,KAAK0B,4BAA6B,EAElC1B,KAAK6D,SAAW,GAEhB7D,KAAK8D,kCAA+BC,EACpC/D,KAAKqC,aAAe,EAGlBJ,kBAEF,IAAIC,EAAI,EACJC,EAAI,EAER,MAAM6B,EAAIhE,KAAK6D,SAASI,MAAKD,GAAKA,EAAEE,aAQpC,OANIF,IAEF9B,EAAI8B,EAAE9B,EACNC,EAAI6B,EAAE7B,GAGD,CACLD,EAAGA,EACHC,EAAGA,GAIHsB,wBAEF,IAAIvB,EAAI,EACJC,EAAI,EAER,MAAM6B,EAAIhE,KAAK6D,SAASI,MAAKD,GAAKA,EAAEE,aAOpC,OALIF,IAEF9B,EAAI8B,EAAE9B,EAAI8B,EAAEG,WACZhC,EAAI6B,EAAE7B,EAAI6B,EAAEI,YAEP,CACLlC,EAAGA,EACHC,EAAGA,GAIHG,oBAEF,OAAOtC,KAAK6D,SAASQ,OAGnBX,qBAEF,IAAIxB,EAAI,EACJC,EAAI,EAER,IAAK,IAAImC,EAAI,EAAGA,EAAItE,KAAK6D,SAASQ,OAAQC,IAExCpC,GAAKlC,KAAK6D,SAASS,GAAGpC,EACtBC,GAAKnC,KAAK6D,SAASS,GAAGnC,EAMxB,OAHAD,GAAKtC,KAAKD,IAAI,EAAGK,KAAK6D,SAASQ,QAC/BlC,GAAKvC,KAAKD,IAAI,EAAGK,KAAK6D,SAASQ,QAExB,CACLnC,EAAGA,EACHC,EAAGA,GAIHoC,8BAEF,IAAIrC,EAAI,EACJC,EAAI,EAER,IAAK,IAAImC,EAAI,EAAGA,EAAItE,KAAK6D,SAASQ,OAAQC,IAExCpC,GAAKlC,KAAK6D,SAASS,GAAGH,WACtBhC,GAAKnC,KAAK6D,SAASS,GAAGF,WAMxB,OAHAlC,GAAKtC,KAAKD,IAAI,EAAGK,KAAK6D,SAASQ,QAC/BlC,GAAKvC,KAAKD,IAAI,EAAGK,KAAK6D,SAASQ,QAExB,CACLnC,EAAGA,EACHC,EAAGA,GAIHwB,2BAEF,MAAMa,EAAiBxE,KAAK0D,eACtBe,EAAczE,KAAKuE,wBAEzB,MAAO,CACLrC,EAAGsC,EAAetC,EAAIuC,EAAYvC,EAClCC,EAAGqC,EAAerC,EAAIsC,EAAYtC,GAItCuC,4BAEE,GAA6B,IAAzB1E,KAAK6D,SAASQ,OAClB,CACE,MAAMM,EAAK3E,KAAK6D,SAAS,GAAG3B,EACtB0C,EAAK5E,KAAK6D,SAAS,GAAG1B,EAEtB0C,EAAK7E,KAAK6D,SAAS,GAAG3B,EACtB4C,EAAK9E,KAAK6D,SAAS,GAAG1B,EAEtB4C,EAAWnF,KAAKoF,KAAKpF,KAAKqF,IAAIN,EAAKE,EAAI,GAAKjF,KAAKqF,IAAIL,EAAKE,EAAI,SAE1Bf,IAAtC/D,KAAK8D,+BAEP9D,KAAK8D,6BAA+BiB,GAGtC,MAAMG,EAAc,IACpBlF,KAAKqC,eAAiB0C,EAAW/E,KAAK8D,8BAAgCoB,EACtElF,KAAK8D,6BAA+BiB,OAIpC/E,KAAK8D,kCAA+BC,EACpC/D,KAAKqC,aAAe,EAIxB8C,eAAeC,EAAYlD,EAAGC,GAE5B,IAAI6B,EAAIhE,KAAK6D,SAASI,MAAKD,GAAKA,EAAEqB,KAAOD,IAwBzC,YAtBUrB,IAANC,IAEFA,EAAI,CACFqB,GAAID,EACJlD,EAAGA,EACHC,EAAGA,EACHgC,WAAYjC,EACZkC,WAAYjC,EACZ+B,WAAqC,IAAzBlE,KAAK6D,SAASQ,QAG5BrE,KAAK6D,SAASyB,KAAKtB,IAGrBA,EAAEG,WAAaH,EAAE9B,EACjB8B,EAAEI,WAAaJ,EAAE7B,EAEjB6B,EAAE9B,EAAIA,EACN8B,EAAE7B,EAAIA,EAENnC,KAAK0E,4BAEEV,EAGTuB,eAAeH,GAEb,MAAMI,EAAQxF,KAAK6D,SAAS4B,WAAUzB,GAAKA,EAAEqB,KAAOD,SAEtCrB,IAAVyB,GAEFxF,KAAK6D,SAAS6B,OAAOF,EAAO,GAE9BxF,KAAK0E,4BAGPnC,aAAaC,GAEX,MAAMmD,EAAUnD,EAAMoD,eAEtB,IAAK,IAAItB,EAAI,EAAGA,EAAIqB,EAAQtB,OAAQC,IACpC,CACE,MAAMuB,EAAQF,EAAQrB,GACZtE,KAAKmF,eAAeU,EAAMC,WAAYD,EAAMpD,QAASoD,EAAMnD,SAE/DwB,aAEJlE,KAAKwB,2BAA4B,EACjCxB,KAAKyB,wBAA4B,IAKvCmB,WAAWJ,GAET,MAAMmD,EAAUnD,EAAMoD,eAEtB,IAAK,IAAItB,EAAI,EAAGA,EAAIqB,EAAQtB,OAAQC,IACpC,CACE,MAAMuB,EAAQF,EAAQrB,GAChBN,EAAIhE,KAAKmF,eAAeU,EAAMC,WAAYD,EAAMpD,QAASoD,EAAMnD,SAEjEsB,EAAEE,aAEJlE,KAAK0B,4BAA6B,EAClC1B,KAAKyB,wBAA6B,GAEpCzB,KAAKuF,eAAevB,EAAEqB,KAI1BxC,aAAaL,GAEX,MAAMmD,EAAUnD,EAAMoD,eAEtB,IAAK,IAAItB,EAAI,EAAGA,EAAIqB,EAAQtB,OAAQC,IACpC,CACE,MAAMuB,EAAQF,EAAQrB,GACtBtE,KAAKmF,eAAeU,EAAMC,WAAYD,EAAMpD,QAASoD,EAAMnD,UAI/DI,eAAeN,GAEbxC,KAAK+C,YAAYP,GAGnBO,YAAYP,GAEV,MAAMmD,EAAUnD,EAAMoD,eAEtB,IAAK,IAAItB,EAAI,EAAGA,EAAIqB,EAAQtB,OAAQC,IACpC,CACE,MAAMuB,EAAQF,EAAQrB,GAChBN,EAAIhE,KAAKmF,eAAeU,EAAMC,WAAYD,EAAMpD,QAASoD,EAAMnD,SAEjE1C,KAAKyB,wBAA0BuC,EAAEE,aAEnClE,KAAKyB,wBAA6B,EAClCzB,KAAK0B,4BAA6B,GAGpC1B,KAAKuF,eAAevB,EAAEqB,KAI1B9B,QAEEvD,KAAKwB,2BAA6B,EAClCxB,KAAK0B,4BAA6B,EAClC1B,KAAKqC,aAAe,EAEpB,IAAK,IAAIiC,EAAI,EAAGA,EAAItE,KAAK6D,SAASQ,OAAQC,IAC1C,CACE,MAAMN,EAAIhE,KAAK6D,SAASS,GAExBN,EAAEG,WAAaH,EAAE9B,EACjB8B,EAAEI,WAAaJ,EAAE7B,IC7PR,MAAM4D,EAEnBC,KAAKC,EAAaC,GAEhBlG,KAAKiG,YAAcA,EACnBjG,KAAKkG,wBAA4CnC,IAAvBmC,EAAmCD,EAAcC,EAC3ElG,KAAKmG,mBAAqB,IAAI5E,EAC9BvB,KAAKoG,mBAAqB,IAAIxC,EAE9B5D,KAAKqG,oBAAsBrG,KAAKmG,mBAEhCnG,KAAKsG,cAAgB,CACnBpE,EAAG,EACHC,EAAG,EACHoE,MAAO,EACPC,OAAQ,GAGVxG,KAAKyG,uBAELzG,KAAK0G,eAAiB,IAAIC,KAAS,IAEnC3G,KAAK4G,cAGPA,cAEE5G,KAAK6G,kBAAoB7G,KAAK8G,SAASC,KAAK/G,MAC5CA,KAAKiG,YAAYe,iBAAiB,QAAShH,KAAK6G,kBAAmB,CAAEI,SAAS,IAE9EjH,KAAKkH,uBAAyBlH,KAAKmH,cAAcJ,KAAK/G,MACtDA,KAAKiG,YAAYe,iBAAiB,aAAchH,KAAKkH,uBAAwB,CAAED,SAAS,IACxFjH,KAAKoH,sBAAwBpH,KAAKqH,aAAaN,KAAK/G,MACpDA,KAAKiG,YAAYe,iBAAiB,YAAahH,KAAKoH,sBAAuB,CAAEH,SAAS,IACtFjH,KAAKsH,wBAA0BtH,KAAKuH,eAAeR,KAAK/G,MACxDA,KAAKiG,YAAYe,iBAAiB,cAAehH,KAAKsH,wBAAyB,CAAEL,SAAS,IAC1FjH,KAAKwH,qBAAuBxH,KAAKyH,YAAYV,KAAK/G,MAClDA,KAAKiG,YAAYe,iBAAiB,WAAYhH,KAAKwH,qBAAsB,CAAEP,SAAS,IAEpFjH,KAAK0H,sBAAwB1H,KAAK2H,aAAaZ,KAAK/G,MACpDA,KAAKiG,YAAYe,iBAAiB,YAAahH,KAAK0H,uBAAuB,GAC3E1H,KAAK4H,sBAAwB5H,KAAK6H,aAAad,KAAK/G,MACpDA,KAAKiG,YAAYe,iBAAiB,YAAahH,KAAK4H,uBAAuB,GAC3E5H,KAAK8H,oBAAsB9H,KAAK+H,WAAWhB,KAAK/G,MAChDA,KAAKiG,YAAYe,iBAAiB,UAAWhH,KAAK8H,qBAAqB,GACvE9H,KAAKgI,uBAAyBhI,KAAKiI,cAAclB,KAAK/G,MACtDA,KAAKiG,YAAYe,iBAAiB,aAAchH,KAAKgI,wBAAwB,GAG/EE,gBAEElI,KAAKiG,YAAYkC,oBAAoB,QAASnI,KAAK6G,kBAAmB,CAAEI,SAAS,IAEjFjH,KAAKiG,YAAYkC,oBAAoB,aAAcnI,KAAKkH,uBAAwB,CAAED,SAAS,IAC3FjH,KAAKiG,YAAYkC,oBAAoB,YAAanI,KAAKoH,sBAAuB,CAAEH,SAAS,IACzFjH,KAAKiG,YAAYkC,oBAAoB,cAAenI,KAAKsH,wBAAyB,CAAEL,SAAS,IAC7FjH,KAAKiG,YAAYkC,oBAAoB,WAAYnI,KAAKwH,qBAAsB,CAAEP,SAAS,IAEvFjH,KAAKiG,YAAYkC,oBAAoB,YAAanI,KAAK0H,uBAAuB,GAC9E1H,KAAKiG,YAAYkC,oBAAoB,YAAanI,KAAK4H,uBAAuB,GAC9E5H,KAAKiG,YAAYkC,oBAAoB,UAAWnI,KAAK8H,qBAAqB,GAC1E9H,KAAKiG,YAAYkC,oBAAoB,aAAcnI,KAAKgI,wBAAwB,GAGlFlB,SAAStE,GAEPxC,KAAKmG,mBAAmBnD,OAAOR,GAC/BxC,KAAKoI,yBAGPjB,cAAc3E,GAEZxC,KAAKoG,mBAAmB7D,aAAaC,GACrCxC,KAAKqI,yBAGPhB,aAAa7E,GAEXxC,KAAKoG,mBAAmBvD,aAAaL,GACrCxC,KAAKqI,yBAGPd,eAAe/E,GAEbxC,KAAKoG,mBAAmBtD,eAAeN,GACvCxC,KAAKqI,yBAGPZ,YAAYjF,GAEVxC,KAAKoG,mBAAmBxD,WAAWJ,GACnCxC,KAAKqI,yBAGPV,aAAanF,GAEPxC,KAAKsI,wBAEPtI,KAAKmG,mBAAmB5D,aAAaC,GACrCxC,KAAKoI,0BAITP,aAAarF,GAEPxC,KAAKsI,wBAEPtI,KAAKmG,mBAAmBtD,aAAaL,GACrCxC,KAAKoI,0BAITL,WAAWvF,GAELxC,KAAKsI,wBAEPtI,KAAKmG,mBAAmBvD,WAAWJ,GACnCxC,KAAKoI,0BAITH,cAAczF,GAEZxC,KAAKmG,mBAAmBpD,YAAYP,GACpCxC,KAAKoI,yBAGP7E,QAEEvD,KAAKoG,mBAAmB7C,QACxBvD,KAAKmG,mBAAmB5C,QACxBvD,KAAKyG,uBAGPA,uBAEE,MAAMH,EAAgBtG,KAAKkG,mBAAmBqC,wBAE9CvI,KAAKsG,cAAcpE,EAAIoE,EAAckC,KACrCxI,KAAKsG,cAAcnE,EAAImE,EAAcmC,IACrCzI,KAAKsG,cAAcC,MAAQD,EAAcC,MACzCvG,KAAKsG,cAAcE,OAASF,EAAcE,OAG5C8B,sBAEE,OAAQ,IAAI3B,KAAS3G,KAAK0G,gBAAkB,IAAO,IAGrD0B,yBAEEpI,KAAKqG,oBAAsBrG,KAAKmG,mBAGlCkC,yBAEErI,KAAKqG,oBAAsBrG,KAAKoG,mBAChCpG,KAAK0G,eAAiB,IAAIC,KAGxBnF,gCAEF,OAAOxB,KAAKqG,oBAAoB7E,0BAG9BC,6BAEF,OAAOzB,KAAKqG,oBAAoB5E,uBAG9BC,iCAEF,OAAO1B,KAAKqG,oBAAoB3E,2BAG9BC,iCAEF,OAAO3B,KAAKmG,mBAAmBxE,2BAG7BC,8BAEF,OAAO5B,KAAKmG,mBAAmBvE,wBAG7BC,kCAEF,OAAO7B,KAAKmG,mBAAmBtE,4BAG7BC,kCAEF,OAAO9B,KAAKmG,mBAAmBrE,4BAG7BC,+BAEF,OAAO/B,KAAKmG,mBAAmBpE,yBAG7BC,mCAEF,OAAOhC,KAAKmG,mBAAmBnE,6BAGjC0G,yBAEmC,IAA7B1I,KAAKsG,cAAcC,OAA6C,IAA9BvG,KAAKsG,cAAcE,QAEvDmC,QAAQC,MAAM,sGAAuG5I,KAAKiG,YAAajG,KAAKsG,eAIhJuC,2BAA2BC,GAEzB,MAAO,CACL5G,EAAG4G,EAAI5G,EAAIlC,KAAKsG,cAAcpE,EAC9BC,EAAGnC,KAAKsG,cAAcE,QAAUsC,EAAI3G,EAAInC,KAAKsG,cAAcnE,IAI/D4G,qBAAqBD,GAInB,OAFA9I,KAAK0I,yBAEE,CACLxG,EAAI4G,EAAI5G,EAAIlC,KAAKsG,cAAcC,MAAS,EAAI,EAC5CpE,EAAI2G,EAAI3G,EAAInC,KAAKsG,cAAcE,OAAU,EAAI,GAI7CnE,mBAEF,OAAOrC,KAAKqG,oBAAoBhE,aAG9BC,oBAEF,OAAOtC,KAAKqG,oBAAoB/D,cAG9B0G,+BAEF,MAAMC,EAAMjJ,KAAKkJ,IAEjB,OAAQD,EAAI/G,IAAM,GAAK+G,EAAI/G,GAAK,GACxB+G,EAAI9G,IAAM,GAAK8G,EAAI9G,GAAK,EAGlCgH,wBAAwBC,GAEtB,MAAMC,EAAOD,EAAKb,wBACZO,EAAM9I,KAAKsJ,iBAEjB,OAAQR,EAAI5G,EAAImH,EAAKb,MACbM,EAAI5G,EAAImH,EAAKb,KAAOa,EAAK9C,OACzBuC,EAAI3G,EAAIkH,EAAKZ,KACbK,EAAI3G,EAAIkH,EAAKZ,IAAMY,EAAK7C,OAG9BvE,kBAEF,OAAOjC,KAAK6I,2BAA2B7I,KAAKqG,oBAAoBpE,aAG9DqH,uBAEF,MAAO,CACLpH,EAAGlC,KAAKqG,oBAAoBpE,YAAYC,EACxCC,EAAGnC,KAAKqG,oBAAoBpE,YAAYE,GAIxCsB,wBAEF,MAAM8F,EAAYvJ,KAAKqG,oBAAoB5C,kBAE3C,MAAO,CACLvB,EAAGqH,EAAUrH,EACbC,GAAkB,EAAfoH,EAAUpH,GAIb+G,UAEF,OAAOlJ,KAAK+I,qBAAqB/I,KAAKiC,aAGpCuH,gBAGF,OADAxJ,KAAK0I,yBACE,CACLxG,EAAGlC,KAAKyD,kBAAkBvB,EAAIlC,KAAKsG,cAAcC,MACjDpE,EAAGnC,KAAKyD,kBAAkBtB,EAAInC,KAAKsG,cAAcE,QAIjD9C,qBAEF,OAAO1D,KAAK6I,2BAA2B7I,KAAKqG,oBAAoB3C,gBAG9DC,2BAEF,MAAM8F,EAAezJ,KAAKqG,oBAAoB1C,qBAE9C,MAAO,CACLzB,EAAGuH,EAAavH,EAChBC,GAAqB,EAAlBsH,EAAatH,GAIhBuH,yBAEF,OAAO1J,KAAK+I,qBAAqB/I,KAAK0D,gBAGpCiG,+BAEF3J,KAAK0I,yBAEL,MAAMe,EAAezJ,KAAK2D,qBAE1B,MAAO,CACLzB,EAAGuH,EAAavH,EAAIlC,KAAKsG,cAAcC,MACvCpE,EAAGsH,EAAatH,EAAInC,KAAKsG,cAAcE,QAI3CoD,UAEE5J,KAAKkI"}